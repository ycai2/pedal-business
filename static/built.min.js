!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports={host:"api.built.io",rtHost:"realtime.built.io",port:443,rtPort:443,protocol:"https",rtProtocol:"https",version:"v2",adaptor:"RestfullAdaptor",persistSession:"COOKIE",cachePolicy:"ONLY_NETWORK",socketData:null,userJSON:null,isSessionUpdated:!1,analyticsConfig:{isUserMetricsDisabled:!1,isUserMetricsSent:!1,trackAnonymously:!1},app_info:{name:"",app_variables:{},uid:""}}},{}],2:[function(e,t,n){function r(e){return s.mixin({},c(e))}function i(e,t,n){return s.find(s.where({uid:e}),n.data[t])||{}}function o(e,t){var n=s.indexOf(e.uid,s.map(s.prop("uid"),t));return s.remove(n,1,t)}var s=e(70),a=e(31),u=e(27)(),c=s.prop("data"),f=s.compose(s.prop("others"),c),p=t.exports=function(e){var n=s.mixin({},e);e.users&&a.isArray(e.users)||(n.users=[]),e.roles&&a.isArray(e.roles)||(n.roles=[]),e.others&&a.isObject(e.others)||(n.others={}),e.can&&a.isArray(e.can)||(n.can=[]);var r={toJSON:function(){return e},data:n};return u.build(t.exports,r)},l=s.curry(function(e,t,n,i,a){var u=r(a);u[t]=[].concat(a.data[t]);var f=s.mixin({},s.find(s.propEq("uid",n),c(a)[t]));if(f.uid)u[t]=o(f,u[t]),f[e]=i,u[t].push(f);else{var l={};l.uid=n,l[e]=i,u[t].push(l)}return p(u)});t.exports.getPublicDeleteAccess=function(e){return!!f(e)["delete"]},u.define("getPublicDeleteAccess",1),t.exports.getPublicReadAccess=function(e){return!!f(e).read},u.define("getPublicReadAccess",1),t.exports.getPublicUpdateAccess=function(e){return!!f(e).update},u.define("getPublicUpdateAccess",1),t.exports.getRoleDeleteAccess=s.curry(function(e,t){return!!i(e,"roles",t)["delete"]}),u.define("getRoleDeleteAccess",2),t.exports.getRoleReadAccess=s.curry(function(e,t){return!!i(e,"roles",t).read}),u.define("getRoleReadAccess",2),t.exports.getRoleUpdateAccess=s.curry(function(e,t){return!!i(e,"roles",t).update}),u.define("getRoleUpdateAccess",2),t.exports.getUserDeleteAccess=s.curry(function(e,t){return!!i(e,"users",t)["delete"]}),u.define("getUserDeleteAccess",2),t.exports.getUserReadAccess=s.curry(function(e,t){return!!i(e,"users",t).read}),u.define("getUserReadAccess",2),t.exports.getUserUpdateAccess=s.curry(function(e,t){return!!i(e,"users",t).update}),u.define("getUserUpdateAccess",2),t.exports.isDisabled=function(e){return!!c(e).disable},u.define("isDisabled",1),t.exports.setPublicDeleteAccess=s.curry(function(e,t){var n=r(t);return n.others=s.mixin({},t.data.others),n.others["delete"]=e,p(n)}),u.define("setPublicDeleteAccess",2),t.exports.setPublicUpdateAccess=s.curry(function(e,t){var n=r(t);return n.others=s.mixin({},t.data.others),n.others.update=e,p(n)}),u.define("setPublicUpdateAccess",2),t.exports.setPublicReadAccess=s.curry(function(e,t){var n=r(t);return n.others=s.mixin({},t.data.others),n.others.read=e,p(n)}),u.define("setPublicReadAccess",2),t.exports.setRoleDeleteAccess=l("delete","roles"),u.define("setRoleDeleteAccess",3),t.exports.setRoleUpdateAccess=l("update","roles"),u.define("setRoleUpdateAccess",3),t.exports.setRoleReadAccess=l("read","roles"),u.define("setRoleReadAccess",3),t.exports.setUserDeleteAccess=l("delete","users"),u.define("setUserDeleteAccess",3),t.exports.setUserUpdateAccess=l("update","users"),u.define("setUserUpdateAccess",3),t.exports.setUserReadAccess=l("read","users"),u.define("setUserReadAccess",3),t.exports.setAnonymousDeleteAccess=t.exports.setUserDeleteAccess("anonymous"),u.define("setAnonymousDeleteAccess",2),t.exports.setAnonymousUpdateAccess=t.exports.setUserUpdateAccess("anonymous"),u.define("setAnonymousUpdateAccess",2),t.exports.setAnonymousReadAccess=t.exports.setUserReadAccess("anonymous"),u.define("setAnonymousReadAccess",2),t.exports.disable=function(e){var t=s.mixin({},c(e));return t.disable=!0,p(t)},u.define("disable",1),t.exports.enable=function(e){var t=s.mixin({},c(e));return t.disable=!1,p(t)},u.define("enable",1),t.exports.canUpdate=function(e){return c(e).can.indexOf("update")>-1},u.define("canUpdate",1),t.exports.canDelete=function(e){return c(e).can.indexOf("delete")>-1},u.define("canDelete",1)},{27:27,31:31,70:70}],3:[function(e,t,n){function r(e){return{headers:e.headers,status:e.status,entity:e.entity}}function i(e){var t=u.defer();return e.onreadystatechange=function(n){4==e.readyState&&(e.status>=200&&e.status<300?(c.trigger("upload:end"),t.resolve(e.responseText)):t.reject(e.statusText))},e.ontimeout=e.onerror=function(n){t.reject(e.statusText)},t}var o=e(80),s=e(76),a=e(75),u=e(101),c=e(11),f=o.wrap(s,{mime:"application/json"}).wrap(a,{code:400});t.exports.makeCall=function(e){return"DELETE"===e.method.toUpperCase()&&(e.entity={_method:"DELETE"},e.method="POST"),c.trigger("http:start"),f(e).then(function(e){return c.trigger("http:end"),r(e)})["catch"](function(e){throw r(e)})},t.exports.makeXMLHttpRequest=function(e){c.trigger("upload:start");var t=new XMLHttpRequest;t.open("POST",e.url,!0);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);var r=i(t);return t.upload.onprogress=function(e){r.notify({bytesUploaded:e.loaded,bytesTotal:e.total,timestamp:e.timeStamp})},t.send(e.formData),r.promise}},{101:101,11:11,75:75,76:76,80:80}],4:[function(e,t,n){function r(e){return{headers:e.headers,status:e.statusCode,entity:e.body}}function i(e){var t=s.defer();return e.onreadystatechange=function(n){4==e.readyState&&(e.status>=200&&e.status<300?(a.trigger("upload:end"),t.resolve(e.responseText)):t.reject(e.statusText))},e.ontimeout=e.onerror=function(n){t.reject(e.statusText)},t}var o=e(70),s=e(101),a=e(11),u=e(31);t.exports.makeCall=o.curry(function(e,t){function n(e){e.emit("api",{headers:t.headers,method:t.method,url:a,body:t.entity},function(e,t){t.statusCode>=200&&t.statusCode<300?i.resolve(r(t)):i.reject(r(t)),e&&i.reject(r(e))})}var i=s.defer(),o=t.path,a=o.substr(o.search("/v"));if(t.params)for(var c in t.params)a=u.addParam(a,c,t.params);return e.isSocketConnected()?n(e.getSocket()):e.getAdhocOperations().push(n),i.promise}),t.exports.makeXMLHttpRequest=function(e){a.trigger("upload:start");var t=new XMLHttpRequest;t.open("POST",e.url,!0);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);var r=i(t);return t.upload.onprogress=function(e){r.notify({bytesUploaded:e.loaded,bytesTotal:e.total,timestamp:e.timeStamp})},t.send(e.formData),r.promise}},{101:101,11:11,31:31,70:70}],5:[function(e,t,n){function r(e,t){i(e),t.resetBatchQueue()}function i(e){var t,n=c.keyValue;if(c.isArray(e)){if(!(e.length>0))throw new Error("Events array is empty");t=e[0].analytics}var r=l.getUUIDForAPI(t.app.getApiKey()),i=u.mixin(n("events",o(e)),n("super_properties",u.mixin(t.getSuperProperties()["static"],{blt_uuid:r}))),s=t.app.options.adaptor,f=c.getAdaptorObj("POST",a(t.app),getCombinedHeaders(t),i,null);return s.makeCall(f).then(function(t){return e})}function o(e){var t={};return e.forEach(function(e){var n=t[e.getUid()]||[];n.push(c.keyValue("properties",s(e))),t[e.getUid()]=n}),t}function s(e){var t=e.analytics.getTrackAnonymously()?"anonymous":e.app.getUserJSON()?e.app.getUserJSON().uid:"anonymous";return e=e.setProperties({app_user_object_uid:t}),u.mixin(e.analytics.getSuperProperties().dynamic(),e.getProperties())}function a(e){return e.getURL()+d}var u=e(70),c=e(31),f=e(27)(),p=(e(8),e(6)),l=e(30),d="/events/trigger_multiple",h=t.exports=u.curry(function(e,n,r,i,o,s){if(!s["static"]&&!s.dynamic)throw new Error("Super properties is expected to have atleast a static or dynamic property");s["static"]=s["static"]||{},s.dynamic=s.dynamic||function(){return{}};var a={app:e,headers:n,queue:r,trackAnonymously:i,batchSize:o,superProperties:s,toJSON:function(){return s}},u=p(e,a);return a.Event=function(e,t){if(!e)throw new Error("uid not found");return t?u(e,t):u(e,{})},c.copyProperties(a.Event,p),f.build(t.exports,a)}),g=t.exports.set=u.curry(function(e,t,n){var r=n.queue,i=n.trackAnonymously,o=n.batchSize,s=n.superProperties,a=n.headers;switch(e){case"headers":a=t;break;case"queue":r=t;break;case"trackAnonymously":i=t;break;case"batchSize":o=t;break;case"superProperties":s=t}return h(n.app,a,r,i,o,s)});f.define("set",3);var m=t.exports.get=u.curry(function(e,t){return t[e]});f.define("get",2),t.exports.setBatchSize=g("batchSize"),f.define("setBatchSize",2),t.exports.getBatchSize=m("batchSize"),f.define("getBatchSize",1),t.exports.setTrackAnonymously=g("trackAnonymously"),f.define("setTrackAnonymously",2),t.exports.getTrackAnonymously=m("trackAnonymously"),f.define("getTrackAnonymously",1),t.exports.setSuperProperties=g("superProperties"),f.define("setSuperProperties",2),t.exports.setStaticSuperProperties=u.curry(function(e,t){var n=u.mixin({},t.getSuperProperties());return n["static"]=e,g("superProperties",n,t)}),f.define("setStaticSuperProperties",2),t.exports.setDynamicSuperProperties=u.curry(function(e,t){var n=u.mixin({},t.getSuperProperties());return n.dynamic=e,g("superProperties",n,t)}),f.define("setDynamicSuperProperties",2),t.exports.getSuperProperties=m("superProperties"),f.define("getSuperProperties",1),t.exports.setHeader=u.curry(function(e,t,n){var r=u.mixin({},n.headers);return r[e]=t,g("headers",r,n)}),f.define("setHeader",3),t.exports.getHeaders=m("headers"),f.define("getHeaders",1),t.exports.trigger=function(e,t,n){c.isArray(e)||(e=[e]);var i=n.get("queue");if(t)return r(e,n);if(1===n.get("batchSize"))return r(e,n);var o=i.concat(e);return o.length>=n.getBatchSize()?r(i,n):void(n.queue=o)},f.define("trigger",3,[!1]),t.exports.flush=function(e){t.exports.trigger(e.queue,!0,e),e.resetBatchQueue()},f.define("flush",1),t.exports.getQueue=m("queue"),f.define("getQueue",1);t.exports.resetBatchQueue=function(e){return e.queue=[],e};f.define("resetBatchQueue",1),t.exports.pushEventInQueue=u.curry(function(e,n){n.queue=n.get("queue").concat(e),n.queue.length===n.getBatchSize()&&(t.exports.trigger(n.get("queue"),!0,n),n.resetBatchQueue())}),f.define("pushEventInQueue",2)},{27:27,30:30,31:31,6:6,70:70,8:8}],6:[function(e,t,n){function r(e){var t=e.app;return t.getURL()+"/events/"+e.getUid()+f}function i(e){return s.mixin(e.analytics.getSuperProperties().dynamic(),e.getProperties())}function o(e){return s.mixin({},e.getProperties())}{var s=e(70),a=e(31),u=e(27)(),c=e(30),f="/trigger",p=t.exports=s.curry(function(e,n,r,i){var o={app:e,analytics:n,uid:r,properties:i};return u.build(t.exports,o)});t.exports.getProperties=function(e){return e.properties}}u.define("getProperties",1);t.exports.getUid=function(e){return e.uid};u.define("getUid",1),t.exports.setUid=s.curry(function(e,t){return p(t.app,t.analytics,e,t.properties)}),u.define("setUid",2);var l=s.curry(function(e,t,n){t instanceof Date&&(t=t.toISOString());var r=o(n);return r[e]=t,p(n.app,n.analytics,n.uid,r)});t.exports.setProperties=s.curry(function(e,t){var n=s.mixin(e,o(t));return p(t.app,t.analytics,t.uid,n)}),u.define("setProperties",2),t.exports.setCreatedAt=l("created_at"),u.define("setCreatedAt",2),t.exports.trigger=function(e,t){var n=a.keyValue;if(t.analytics.getBatchSize()>1&&!e)t=t.setCreatedAt(new Date),t.analytics.pushEventInQueue(t);else{var o=t.analytics.getTrackAnonymously()?"anonymous":t.app.getUserJSON()?t.app.getUserJSON().uid:"anonymous";t=t.setProperties({app_user_object_uid:o});var u=c.getUUIDForAPI(t.app.getApiKey()),f=n("event",n("properties",i(t))),p=n("super_properties",s.mixin(t.analytics.getSuperProperties()["static"],{blt_uuid:u})),l=s.mixin(p,f),d=t.app.options.adaptor,h=a.getAdaptorObj("POST",r(t),t.app.getHeaders(),l,null);d.makeCall(h)}},u.define("trigger",2,[!1])},{27:27,30:30,31:31,70:70}],7:[function(e,t,n){function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onAppInstance&&t.realtime.onAppInstance(e)})}function i(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onClassCons&&t.realtime.onClassCons(e),t.realtime&&t.realtime.onUploadCons&&t.realtime.onUploadCons(e),t.realtime&&t.realtime.onUserCons&&t.realtime.onUserCons(e),t.realtime&&t.realtime.onRoleCons&&t.realtime.onRoleCons(e),t.realtime&&t.realtime.onInstallationCons&&t.realtime.onInstallationCons(e)})}function o(e,t){w.Session.COOKIE===L(t).persistSession?O.set(l(q(t)),e.authtoken):w.Session.LOCAL_STORAGE===L(t).persistSession&&C.set(l(q(t)),e)}function s(e){var n=v.getAdaptorObj("GET",t.exports.getURL(e)+"/application/users/current",t.exports.getHeaders(e),null,null);return a(e,n).then(function(t){return e.setSession(t.toJSON()),t})}function a(e,t){var n=e.options.adaptor;return n.makeCall(t).then(function(t){var n=u(t.entity.application_user,e);return e.setSession(n.toJSON()),n})}function u(e,t){return c(k.APP_USER_CLS,e,t)}function c(e,t,n){return n.Class(e).ObjectCons({},{},t,{})}function f(){try{if(!window.localStorage)throw new Error("Local Storage doesn't exist");return C.set("builttestkey","value"),C.get("builttestkey"),C["delete"]("builttestkey"),!0}catch(e){return console.warn("Local storage was downgraded to cookie",e),!1}}function p(e,t){var n={};return n.application_api_key=t,v.isBrowser()&&(w.Session.COOKIE===e.persistSession&&""!==O.get(l(t))?n.authtoken=O.get(l(t)):w.Session.LOCAL_STORAGE===e.persistSession&&C.get(l(t))&&(n.authtoken=C.get(l(t)).authtoken)),n}function l(e){return j+"_"+e}var d=e(70),h=e(101),g=(e(1),e(9)),m=e(24),v=e(31),y=e(26),x=e(27)(),w=e(8),b=e(21),A=e(17),E=e(15),S=e(12),_=e(5),O=e(22),C=e(23),k=e(10),U=(e(3),e(4),e(30));e(34);var j="bauthtoken",R=t.exports=d.curry(function(e,n,o){var s={},a=w.Session[e.persistSession];if(v.isObject(n)||!n)throw new Error("Api Key not found");v.isBrowser()||(a=w.Session.NONE),s.options=void 0!==e.headers?e:P(o.host||e.host,v.isNumber(o.port)&&o.port||e.port,o.protocol||e.protocol,o.rtHost||e.rtHost,v.isNumber(o.rtPort)&&o.rtPort||e.rtPort,o.rtProtocol||e.rtProtocol,e.version,e.adaptor,p(e,n),a,w.CachePolicy[e.cachePolicy],e.app_info,e.analyticsConfig,e.socketData,e.isSessionUpdated,e.userJSON),s.Class=g(s,{},{}),s.ClassCons=v.wrapper(g(s,{}),[{}]),v.copyProperties(s.Class,g);var u=(y(s,s.Class(k.APP_USER_CLS)),y(s,s.Class(k.APP_USER_CLS),{},{},{})),c=b(s,s.Class(k.APP_ROLE_CLS),{},{},{}),f=E(s,s.Class(k.APP_INSTALLATION_CLS),{},{},{}),l=A(s,{}),d=m(s,{},{}),h=_(s,{},[]),O=S.execute(s),C=m(s);s.User=v.wrapper(u,[{}]),v.copyProperties(s.User,y),s.User.isAuthenticated=y.isAuthenticated(s),s.User.getSession=y.getSession(s),s.User.getCurrentUser=y.getSession(s),s.User.setSession=y.setSession(s),s.User.clearSession=y.clearSession(s),s.User.generateAuthtoken=y.generateAuthtoken(s),s.User.anyAuth=y.anyAuth(s),s.Upload=v.wrapper(d,[{}]),v.copyProperties(s.Upload,m),s.UploadCons=v.wrapper(C,[{},{},{}]),v.copyProperties(s.UploadCons,m),s.Role=v.wrapper(c,[{}]),v.copyProperties(s.Role,b),s.Role.getRoleQuery=s.Role.getRoleQuery(s),s.Notification=v.wrapper(l,[{}]),v.copyProperties(s.Notification,A),s.Installation=v.wrapper(f,[{}]),v.copyProperties(s.Installation,E),s.Extension={},s.Extension.execute=v.wrapper(O,[null,null]),s.Analytics=v.wrapper(h,[e.analyticsConfig.trackAnonymously,1,{"static":{},dynamic:function(){return{}}}]);var U=x.build(t.exports,s);return r(U),i(U),U.sendUserMetrics(),U}),P=t.exports.consOptions=d.curry(function(e,t,n,r,i,o,s,a,u,c,f,p,l,d,h,g){return{host:e,port:t,protocol:n,rtHost:r,rtPort:i,rtProtocol:o,version:s,adaptor:a,headers:u,persistSession:c,cachePolicy:f,app_info:p,analyticsConfig:l,socketData:d,isSessionUpdated:h,userJSON:g}}),T=t.exports.setAppOptions=function(e,t,n){var r=n.host,i=n.port,o=n.protocol,s=n.rtHost,a=n.rtPort,u=n.rtProtocol,c=n.version,f=n.adaptor,p=n.headers,l=n.persistSession,d=n.cachePolicy,h=n.app_info,g=n.analyticsConfig,m=n.socketData,v=n.isSessionUpdated,y=n.userJSON;switch(e){case"host":r=t;break;case"port":i=t;break;case"protocol":o=t;break;case"rtHost":s=t;break;case"rtPort":a=t;break;case"rtProtocol":u=t;break;case"version":c=t;break;case"adaptor":f=t;break;case"headers":p=t;break;case"persistSession":l=t;break;case"cachePolicy":d=t;break;case"app_info":h=t;break;case"analyticsConfig":g=t;break;case"socketData":m=t;break;case"isSessionUpdated":v=t;break;case"userJSON":y=t}return P(r,i,o,s,a,u,c,f,p,l,d,h,g,m,v,y)},L=t.exports.getOptions=d.prop("options");x.define("getOptions",1);var N=t.exports.getOption=function(e,t){return d.prop(e,L(t))};x.define("getOption",2);var I=t.exports.setOptions=d.curry(function(e,t){return R(e,q(t),{})});x.define("setOptions",2),t.exports.setSession=function(e,t){if(!e.authtoken)throw new Error("Authtoken not found in JSON");var n=!1;return v.isBrowser()&&(t.getOption("persistSession")!=w.Session.NONE&&(n=!0),o(e,t)),t.getOption("persistSession")===w.Session.MEMORY&&(n=!0),n&&(t.setAuthToken(e.authtoken),t.setUserJSON(e)),t.sendUserMetrics(!0),w.Events.trigger("user:save-session"),t},x.define("setSession",2),t.exports.clearSession=function(e){return e.setUserJSON(null),e.removeAuthToken(),v.isBrowser()&&(w.Session.COOKIE===L(e).persistSession?O["delete"](l(q(e))):w.Session.LOCAL_STORAGE===L(e).persistSession&&C["delete"](l(q(e)))),e.sendUserMetrics(!0),w.Events.trigger("user:clear-session"),e},x.define("clearSession",1),t.exports.getSession=function(e,t){var n=L(t).persistSession;if(t.isSessionUpdated()&&n!==w.Session.NONE||(e=!0),e)return t.setSessionUpdate(!0),s(t);var r=t.getUserJSON();if(r)return h(u(r,t));if(n===w.Session.COOKIE)return t=t.setAuthToken(O.get(l(q(t)))),s(t);if(n===w.Session.LOCAL_STORAGE){var i=h.defer(),o=C.get(l(q(t)));return o?i.resolve(t.Class(k.APP_USER_CLS).ObjectCons({},{},o,{})):i.reject(),i.promise}},x.define("getSession",2,[!1]),t.exports.generateAuthtoken=function(e,n,r,i){if(!d.prop("master_key",t.exports.getHeaders(i)))throw new Error("Master key not found in headers");if(!v.isQueryInstance(e))throw new Error("Query instance inappropriate");if(!v.isBoolean(n))throw new Error("Upsert argument should be a boolean value");if(!v.isObject(r))throw new Error("Update object inappropriate");var o={insert:n,query:e.getQueryObj(),application_user:r},s=v.getAdaptorObj("POST",t.exports.getURL(i)+"/application/users/generate_authtoken",t.exports.getHeaders(i),o,null);return a(i,s)},x.define("generateAuthtoken",4),t.exports.anyAuth=function(e,t,n,r){return t.device_type=v.getDeviceTypeFromUA(),r.Extension.execute(e,t,n).then(function(e){var t=r.Class(k.APP_USER_CLS).ObjectCons({},{},e.application_user,{});return r.setSession(t.toJSON()),t})},x.define("anyAuth",4);t.exports.setAuthToken=d.curry(function(e,t){var n=H(t);return n.authtoken=e,t.getOptions().userJSON=null,t});x.define("setAuthToken",2),t.exports.setUserJSON=d.curry(function(e,t){var n=T("userJSON",e,L(t));return t.options=n,t}),x.define("setUserJSON",2),t.exports.getUserJSON=function(e){return e.getOption("userJSON")},x.define("getUserJSON",1),t.exports.getAuthToken=function(e){return H(e).authtoken},x.define("getAuthToken",1),t.exports.removeAuthToken=function(e){var t=H(e);return delete t.authtoken,e},x.define("removeAuthToken",1);t.exports.isAuthenticated=function(e){return!!H(e).authtoken};x.define("isAuthenticated",1),t.exports.persistSessionWith=d.curry(function(e,t){e!==w.Session.LOCAL_STORAGE||f()||(e=w.Session.COOKIE);var n=L(t),r=T("persistSession",e,n),i=d.mixin(p(r,t.getApiKey(t)),n.headers);return r=T("headers",i,r),I(r,t)}),x.define("persistSessionWith",2);t.exports.validateCachePolicy=function(e,t){return!!w.CachePolicy[e]};x.define("validateCachePolicy",2),t.exports.setCachePolicy=d.curry(function(e,t){if(t.validateCachePolicy(e)){{var n=L(t),r=T("cachePolicy",e,n);I(r,t)}return I(r,t)}throw new Error("Invalid cache policy")}),x.define("setCachePolicy",2),t.exports.getCachePolicy=function(e){return L(e).cachePolicy},x.define("getCachePolicy",1);var M=t.exports.setHeader=d.curry(function(e,t,n){var r=L(n),i=d.mixin({},r.headers);i[e]=t;var o=T("headers",i,r);return I(o,n)});x.define("setHeader",3);var B=t.exports.removeHeader=d.curry(function(e,t){var n=L(t),r=d.mixin({},n.headers);delete r[e];var i=T("headers",r,n);return I(i,t)});x.define("removeHeader",2),t.exports.setHost=d.curry(function(e,t){var n=L(t),r=T("host",e,n),i=I(r,t);return i.sendUserMetrics(!0),i}),x.define("setHost",2);var D=d.curry(function(e,t,n){var r=L(n),i=T(e,t,r);return I(i,n)});t.exports.setRtHost=D("rtHost"),x.define("setRtHost",2),t.exports.setPort=d.curry(function(e,t){if("number"!=typeof e)throw new Error("Port number should be number");var n=L(t),r=T("port",e,n),i=I(r,t);return i.sendUserMetrics(!0),i}),x.define("setPort",2),t.exports.setRtPort=d.curry(function(e,t){if("number"!=typeof e)throw new Error("Port number should be number");return D("rtPort",e,t)}),x.define("setRtPort",2),t.exports.setProtocol=d.curry(function(e,t){if("http"!==e&&"https"!==e)throw new Error("Supported protocols are http and https");var n=L(t),r=T("protocol",e,n),i=I(r,t);return i.sendUserMetrics(!0),i}),x.define("setProtocol",2),t.exports.setRtProtocol=d.curry(function(e,t){if("http"!==e&&"https"!==e)throw new Error("Supported protocols are http and https");return D("rtProtocol",e,t)}),x.define("setRtProtocol",2),t.exports.setMasterKey=M("master_key"),x.define("setMasterKey",2),t.exports.getMasterKey=function(e){return e.getHeaders().master_key},x.define("getMasterKey",1),t.exports.setTenant=M("tenant_uid"),x.define("setTenant",2),t.exports.removeMasterKey=B("master_key"),x.define("removeMasterKey",1),t.exports.removeTenant=B("tenant_uid"),x.define("removeTenant",1);var H=t.exports.getHeaders=function(e){return e.options.headers};x.define("getHeaders",1);t.exports.getURL=function(e){var t=L(e);return t.protocol+"://"+t.host+":"+t.port+"/"+t.version};x.define("getURL",1),t.exports.getVersion=function(e){return L(e).version},x.define("getVersion",1),t.exports.setVersion=d.curry(function(e,t){var n=L(t),r=T("version",e,n);return I(r,t)}),x.define("setVersion",2),t.exports.setAdaptor=d.curry(function(t,n){var r=L(n),i=d.mixin({},e(t));t===w.Adaptor.SOCKET&&(i.makeCall=i.makeCall(n));var o=T("adaptor",i,r);return n.options=o,n}),x.define("setAdaptor",2),t.exports.setSessionUpdate=d.curry(function(e,t){var n=L(t),r=T("isSessionUpdated",e,n);return t.options=r,t}),x.define("setSessionUpdate",2),t.exports.isSessionUpdated=function(e){return N("isSessionUpdated",e)},x.define("isSessionUpdated",1),t.exports.fetch=function(e){var n=L(e),r=e.options.adaptor,i=e.getURL()+"/applications/abc",o=v.getAdaptorObj("GET",i,t.exports.getHeaders(e),null,null);return r.makeCall(o).then(function(t){t=t.entity.application;var r={name:t.name,uid:t.uid,app_variables:t.application_variables};return I(T("app_info",r,n),e)})},x.define("fetch",1),t.exports.getName=function(e){return L(e).app_info.name},x.define("getName",1);var q=t.exports.getApiKey=function(e){return L(e).headers.application_api_key};x.define("getApiKey",1),t.exports.fetchApplicationClassesSchema=function(e){var n=v.getAdaptorObj("GET",t.exports.getURL(e)+"/classes",t.exports.getHeaders(e),null,null),r=e.options.adaptor;return r.makeCall(n)},x.define("fetchApplicationClassesSchema",1),t.exports.getLastActivities=function(e){var n={only_last_activity:!0},r=v.getAdaptorObj("GET",t.exports.getURL(e)+"/classes",t.exports.getHeaders(e),n,null),i=e.options.adaptor;return i.makeCall(r)},x.define("getLastActivities",1),t.exports.getAppVariables=function(e){return L(e).app_info.app_variables},x.define("getAppVariables",1),t.exports.sendUserMetrics=function(e,n){var r="";if(!n.getOption("analyticsConfig").isUserMetricsDisabled&&(!n.getOption("analyticsConfig").isUserMetricsSent||e)){if(n.getOption("analyticsConfig").isUserMetricsSent=!0,!n.getOption("analyticsConfig").trackAnonymously){var i=n.getOption("userJSON");r=i&&i.uid||""}var o={super_properties:U.generateUserMetrics(n.getApiKey(),r)},s=v.getAdaptorObj("POST",t.exports.getURL(n)+"/analytics/user_metrics",t.exports.getHeaders(n),o,null),a=n.options.adaptor;return a.makeCall(s)}},x.define("sendUserMetrics",2,[!1]),t.exports.setTrackAnonymously=d.curry(function(e,t){var n=d.mixin({},t.getOptions()),r=d.mixin({},n.analyticsConfig);r.trackAnonymously=e,r.isUserMetricsSent=!1;var i=T("analyticsConfig",r,n);return I(i,t)}),x.define("setTrackAnonymously",2)},{1:1,10:10,101:101,12:12,15:15,17:17,21:21,22:22,23:23,24:24,26:26,27:27,3:3,30:30,31:31,34:34,4:4,5:5,70:70,8:8,9:9}],8:[function(e,t,n){pluginsHelper={plugins:[],registerPlugin:function(e,t){var n={};n[e]=t,this.plugins.push(n)}};var r=e(70),i=e(1),o=e(2),s=e(31),a=e(7),u=e(16),c=r.mixin({},i),f=e(11),p=e(19),l=e(10),d=e(13),h=e(14),g=e(25),m=e(28).Mixin;c.adaptor=e(3);var v="./adaptors/RestfullAdaptor";t.exports.disableUserMetrics=function(e){c.analyticsConfig.isUserMetricsDisabled=e;var n=s.wrapper(a(c),["",{}]);t.exports.App=n,s.copyProperties(t.exports.App,a)};var y=s.wrapper(a(c),["",{}]);t.exports.App=y;var x=s.wrapper(o,[{}]);t.exports.ACL=x;var w=s.wrapper(u,["",""]);t.exports.Location=w;var b=f;t.exports.Events=b;var A=s.wrapper(p,[{}]);t.exports.Presence=A;var E=h;t.exports.Group=E;var S=d;t.exports.GroupMultiple=S;var _=m;t.exports.Mixin=_;var O=g;t.exports.Upsert=O;var C={COOKIE:"COOKIE",LOCAL_STORAGE:"LOCAL_STORAGE",MEMORY:"MEMORY",NONE:"NONE"},l={APPLICATION_USER:l.APP_USER_CLS,APPLICATION_USER_ROLE:l.APP_ROLE_CLS,INSTALLATION:l.APP_INSTALLATION_CLS},k={ONLY_NETWORK:"ONLY_NETWORK",CACHE_ELSE_NETWORK:"CACHE_ELSE_NETWORK",NETWORK_ELSE_CACHE:"NETWORK_ELSE_CACHE",CACHE_THEN_NETWORK:"CACHE_THEN_NETWORK"},U={HTTP:v};t.exports.Constants=l,t.exports.Session=C,t.exports.CachePolicy=k,t.exports.Adaptor=U,s.copyProperties(t.exports.ACL,o),s.copyProperties(t.exports.App,a),s.copyProperties(t.exports.Location,u),s.copyProperties(t.exports.Presence,p),Built=t.exports,Built=t.exports},{1:1,10:10,11:11,13:13,14:14,16:16,19:19,2:2,25:25,28:28,3:3,31:31,7:7,70:70}],9:[function(e,t,n){function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onClassInstance&&t.realtime.onClassInstance(e)})}function i(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onObjectCons&&t.realtime.onObjectCons(e)})}var o=e(70),s=e(18),a=e(26),u=e(15),c=e(21),f=e(20),p=e(8),l=e(31),d=e(27)(),h="built_io_application_user",g="built_io_application_user_role",m="built_io_installation_data",v={};v[h]=a,v[g]=c,v[m]=u;t.exports=o.curry(function(e,n,p,v){var y={app:e,headers:n,data:p,uid:v,toJSON:function(){return p}},x=l.wrapper(s(e,y,{},{},{}),[{}]),w=l.wrapper(a(e,y,{},{},{}),[{}]),b=l.wrapper(c(e,y,{},{},{}),[{}]),A=l.wrapper(u(e,y,{},{},{}),[{}]),E=l.wrapper(s(e,y),[{},{},{},{}]),S=l.wrapper(a(e,y),[{},{},{},{}]),_=l.wrapper(c(e,y),[{},{},{},{}]),O=l.wrapper(u(e,y),[{},{},{},{}]);switch(v){case h:y.Object=w,y.ObjectCons=S,l.copyProperties(y.Object,a),l.copyProperties(y.ObjectCons,a);break;case g:y.Object=b,y.ObjectCons=_,l.copyProperties(y.Object,c),l.copyProperties(y.ObjectCons,c);break;case m:y.Object=A,y.ObjectCons=O,l.copyProperties(y.Object,u),l.copyProperties(y.ObjectCons,u);break;default:y.Object=x,y.ObjectCons=E,l.copyProperties(y.Object,s),l.copyProperties(y.ObjectCons,s)}var C=f(e,y,{},e.options.cachePolicy);return y.Query=o.wrap(C,function(e,t){return e(t?t:{})}),l.copyProperties(y.Query,f),r(y),i(y),d.build(t.exports,y)});t.exports.getHeaders=function(e){return e.headers},d.define("getHeaders",1);var y=t.exports.getCombinedHeaders=function(e){return{headers:o.mixin(e.headers,p.App.getHeaders(e.app))}};d.define("getCombinedHeaders",1),t.exports.getSchema=function(e){var t=e.app.options.adaptor,n=l.getAdaptorObj("GET",x(e),y(e).headers,null,null);return t.makeCall(n).then(function(e){return e.entity["class"].schema})},d.define("getSchema",1);var x=t.exports.getURL=function(e){return p.App.getURL(e.app)+"/classes/"+e.uid};d.define("getURL",1),t.exports.getUid=function(e){return e.uid},d.define("getUid",1),t.exports.isNew=function(e){return!!e.uid},d.define("isNew",1)},{15:15,18:18,20:20,21:21,26:26,27:27,31:31,70:70,8:8}],10:[function(e,t,n){t.exports.APP_USER_CLS="built_io_application_user",t.exports.APP_ROLE_CLS="built_io_application_user_role",t.exports.APP_INSTALLATION_CLS="built_io_installation_data",t.exports.UPLOAD_KEY_NAME="upload[upload]",t.exports.BASE_64_REGEX=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/,t.exports.MIME_TYPES={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",
skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"}},{}],11:[function(e,t,n){var r=(e(70),e(31),e(27)(),{});r["http:start"]=[],r["http:end"]=[],r["upload:start"]=[],r["upload:end"]=[],r["user:register"]=[],r["user:activate"]=[],r["user:deactivate"]=[],r["user:login"]=[],r["user:logout"]=[],r["user:save-session"]=[],r["user:clear-session"]=[],r["user:set-current-user"]=[],t.exports.trigger=function(e,t){r[e].map(function(e){e(t)})},t.exports.on=function(e,t){var n=r[e];n.push(t)},t.exports.off=function(e,t){var n=r[e];if(2===arguments.length){var i=n.indexOf(t);i>-1&&n.splice(i,1)}else n=[]}},{27:27,31:31,70:70}],12:[function(e,t,n){function r(e,t){return t.getURL()+a+"/"+e}function i(e,t){t=t||{};var n=o.mixin(e.getHeaders(),t);return n}var o=e(70),s=e(31),a="/functions";t.exports.execute=o.curry(function(e,t,n,a){var u=e.options.adaptor,c=r(t,e),f=s.getAdaptorObj("POST",c,i(e,a),n,null);return u.makeCall(f).then(function(e){return o.prop("result",e.entity)})})},{31:31,70:70}],13:[function(e,t,n){function r(e){var t=e.data[e.field].slice(0),n=i.mixin({},e.data);return n[e.field]=t,n}var i=e(70),o=e(31),s=e(27)(),a=t.exports=i.curry(function(e,n){var r={};if(!o.isArray(n))throw new Error("Expected 'Array' found '"+typeof n+"'");n=JSON.parse(JSON.stringify(n)),r[e]=n;var i={data:r,field:e,_isGroupMultiple:!0,toJSON:function(){return r}};return s.build(t.exports,i)}),u=i.curry(function(e,t,n){var i=r(n);return i[n.field][e](t._isGroup||t._isGroupMultiple?t.toJSON():t),a(n.field,i[n.field])});t.exports.push=u("push"),s.define("push",2),t.exports.pop=u("pop",{}),s.define("pop",1),t.exports.shift=u("shift",{}),s.define("shift",1),t.exports.unshift=u("unshift"),s.define("unshift",2)},{27:27,31:31,70:70}],14:[function(e,t,n){function r(e,t){return e=e||{},i.mixin(e,t.data[t.field])}var i=e(70),o=e(31),s=e(27)(),a=e(8),u="$dummy",c=t.exports=i.curry(function(e,n){var r={};if(!o.isObject(n)||o.isArray(n))throw new Error("Expected JavaScript Object found '"+typeof n+"'");n.toJSON&&(n=n.toJSON()),n=JSON.parse(JSON.stringify(n)),r[e]=n;var i={data:r,field:e,_isGroup:!0,toJSON:function(){return e===u?r[e]:r}};return s.build(t.exports,i)});t.exports.set=i.curry(function(e,t,n){var i=r({},n);return i[e]=t,c(n.field,i)}),s.define("set",3),t.exports.get=i.curry(function(e,t){if(t.field===u)return t.toJSON()[e];var n=t.toJSON();return n[t.field][e]}),s.define("get",2),t.exports.assign=i.curry(function(e,t){var n=r({},t);return n=i.mixin(e,n),c(t.field,n)}),s.define("assign",2),t.exports.remove=i.curry(function(e,t){var n=r({},t);return n[e]&&delete n[e],c(t.field,n)}),s.define("remove",2);var f=i.curry(function(e,t,n,i,s){if(n.toJSON&&(n=n.toJSON()[t]),""!==i&&!o.isNumber(i))throw new Error("Index value inappropriate");var a=o.keyValue(t,o.keyValue(e,{data:n,index:i})),u=r(a,s);return c(s.field,u)}),p=i.curry(function(e,t,n){t=JSON.parse(JSON.stringify(t));var i=r({},n);return i[e]=t,c(n.field,i)});t.exports.setReference=i.curry(function(e,t,n){var r=[];if(t[0]&&t[0].app)for(var i=0;i<t.length;i++){if(!t[i].getUid())throw new Error("Uid not found");r.push(t[i].getUid())}else r=t.slice(0);return p(e,r,n)}),s.define("setReference",3),t.exports.setReferenceWhere=i.curry(function(e,t,n){var r={WHERE:t};return p(e,r,n)}),s.define("setReferenceWhere",3),t.exports.setReferenceWithObject=p,s.define("setReferenceWithObject",3),t.exports.upsertForReference=p,s.define("upsertForReference",3),t.exports.pushValue=function(e,t,n){return f("PUSH",e,t,"",n)},s.define("pushValue",3),t.exports.pushValueAtIndex=function(e,t,n,r){return f("PUSH",e,t,n,r)},s.define("pushValueAtIndex",4),t.exports.updateValueAtIndex=function(e,t,n,r){return f("UPDATE",e,t,n,r)},s.define("updateValueAtIndex",4),t.exports.addGroup=function(e,t){var n=r(e.toJSON(),t);return c(t.field,n)},s.define("addGroup",2),t.exports.pullValue=function(e,t,n){return f("PULL",e,t,"",n)},s.define("pullValue",3),t.exports.pullValueAtIndex=function(e,t,n){return f("PULL",e,"",t,n)},s.define("pullValueAtIndex",3),t.exports.getGroupForKey=function(e,t){var n=r({},t);if(!n[e])throw new Error("Key not found in group");return o.isArray(n[e])?a.GroupMultiple(e,n[e]):c(e,n[e])},s.define("getGroupForKey",2)},{27:27,31:31,70:70,8:8}],15:[function(e,t,n){{var r=e(70),i=e(18),o=e(31),s=e(27)();t.exports=r.curry(function(e,n,r,o,a,u){var c=i(e,n,r,{},a,u);return c.cons=t.exports,s.build(t.exports,c)})}o.copyProperties(t.exports,i),t.exports.setCurrentTimeZone=function(e){var t=(new Date).getTimezoneOffset(),n=Math.abs(t)<60?(0>t?"+":"-")+"0:"+Math.abs(t):(0>t?"+":"-")+(Math.floor(Math.abs(t)/60)+":"+Math.abs(t)%60);return e.set("timezone",n)},s.define("setCurrentTimeZone",1),t.exports.setDeviceToken=t.exports.set("device_token"),s.define("setDeviceToken",2),t.exports.setDeviceType=t.exports.set("device_type"),s.define("setDeviceType",2),t.exports.setCredentailsName=t.exports.set("credentails_name"),s.define("setCredentailsName",2),t.exports.subscribeChannels=r.curry(function(e,t){if(!o.isArray(e))throw new Error("Channels should be array");return t.pushValue("subscribed_to_channels",e)}),s.define("subscribeChannels",2),t.exports.unsubscribeChannels=r.curry(function(e,t){if(!o.isArray(e))throw new Error("Channels should be array");return t.pullValue("subscribed_to_channels",e)}),s.define("unsubscribeChannels",2);var a=t.exports.getDeviceToken=t.exports.get("device_token");s.define("getDeviceToken",1);var a=t.exports.getCredentailsName=t.exports.get("credentails_name");s.define("getCredentailsName",1),t.exports.getDeviceType=t.exports.get("device_type"),s.define("getDeviceType",1),t.exports.getSubscribedChannelList=function(e){var t=e.get("subscribed_to_channels");return t&&o.isArray(t)?t:e.delta.subscribed_to_channels.PUSH.data},s.define("getSubscribedChannelList",1),t.exports.save=function(e){return e.getDeviceType()||(e=e.setDeviceType(o.getDeviceTypeFromUA())),e.get("uid")||(e=e.upsert({device_token:a(e)})),i.save(e).then(function(e){return e})},s.define("save",1)},{18:18,27:27,31:31,70:70}],16:[function(e,t,n){function r(e,t){if("number"!=typeof e||"number"!=typeof t)throw new TypeError("Invalid data type");if(-180>e||e>180)throw new Error("Longitutde should be in the range of -180 to 180");if(-90>t||t>90)throw new Error("Latitude should be in the range of -90 to 90")}function i(e,t,n,r,i){var o=Math.PI/180,s=6378.1*i,a=t*o,u=e*o,c=r*o,f=n*o,p=u-f,l=a-c,d=Math.pow(Math.sin(l/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin(p/2),2),h=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),g=s*h;return Math.ceil(g)}var o=e(70),s=(e(31),e(27)()),a=e(101),u=t.exports=function(e,n){var i={};e&&n&&r(e,n),i.longitude=e,i.latitude=n;var o={toJSON:function(){return i},data:i};return s.build(t.exports,o)};t.exports.setLocation=o.curry(function(e,t,n){return u(e,t)}),s.define("setLocation",3),t.exports.getCurrentLocation=function(){var e=a.defer();return"undefined"!=typeof navigator&&"undefined"!=typeof navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){return e.resolve(u(t.coords.longitude,t.coords.latitude))},function(t){e.reject(t)}),e.promise},t.exports.kilometersFrom=function(e,t){var n=e.toJSON(),r=t.toJSON();return i(r.longitude,r.latitude,n.longitude,n.latitude,1)},s.define("kilometersFrom",2),t.exports.metersFrom=function(e,t){var n=e.toJSON(),r=t.toJSON();return i(r.longitude,r.latitude,n.longitude,n.latitude,1e3)},s.define("metersFrom",2),t.exports.milesFrom=function(e,t){var n=e.toJSON(),r=t.toJSON();return i(r.longitude,r.latitude,n.longitude,n.latitude,.621371)},s.define("milesFrom",2)},{101:101,27:27,31:31,70:70}],17:[function(e,t,n){function r(t){var n=e(8);return n.App.getURL(t.app)+""+c}function i(e){return s.mixin({},o(e))}function o(e){return e.data}var s=e(70),a=e(31),u=e(27)(),c="/push",f=t.exports=s.curry(function(e,n,r){var i={app:e,headers:n,data:r,toJSON:function(){return r}};return u.build(t.exports,i)}),p=s.curry(function(e,t,n){if("send_at"===e&&t instanceof Date)t=t.toISOString();else if("send_at"===e&&!(t instanceof Date))throw new Error("JavaScript Date object required");var r=i(n);return r[e]=t,f(n.app,n.headers,r)});t.exports.addUsers=p("user_uids"),u.define("addUsers",2),t.exports.atTime=p("send_at"),u.define("atTime",2),t.exports.inLocalTime=p("local_push"),u.define("inLocalTime",2,[!1]),t.exports.setMessage=p("message"),u.define("setMessage",2),t.exports.send=function(e){var t=e.app.options.adaptor,n={push:o(e)},i=a.getAdaptorObj("POST",r(e),getCombinedHeaders(e),n,null);return t.makeCall(i).then(function(e){return null},function(e){})},u.define("send",1),getCombinedHeaders=function(t){var n=e(8);return s.mixin(t.headers,n.App.getHeaders(t.app))}},{27:27,31:31,70:70,8:8}],18:[function(e,t,n){function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onObjectInstance&&t.realtime.onObjectInstance(e)})}function i(e,t){return e.cls.ObjectCons(e.headers,{},t,{})}function o(e,t){var n;return n=e?e.extend({sync:a(t)}):s(t)}function s(e){var t=Backbone.Model.extend({idAttribute:"uid",sync:a(e)});return t}function a(e){return function(t,n,r){2==arguments.length&&(r=n,n=this),r=r||{};var i=l.mixin(n.changed,p(e)),o=e.cls.ObjectCons(e.headers,f(e),w(e),i);return"read"==t?o.fetch().then(function(e){r.success(e.toJSON())},function(e){r.error(e)}):"create"==t||"update"==t?o.save().then(function(e){r.success(e.toJSON())},function(e){r.error(e)}):"delete"==t&&o["delete"]().then(function(e){r.success(e)},function(e){r.error(e)}),null}}function u(e,t,n,r){if(!d.isNumber(n))throw new Error("Not a number");var i=l.mixin({},p(r)),o=!!p(r)[t];return console.log("keyPresent",o),o?i[t][e]=n:i[t]=d.keyValue(e,n),r.cls.ObjectCons(r.headers,f(r),w(r),i)}function c(e,t,n,r,i){if(""!==r&&!d.isNumber(r))throw new Error("Index value inappropriate");var o=d.keyValue(t,d.keyValue(e,{data:n,index:r})),s=l.mixin(p(i),o);return i.cls.ObjectCons(i.headers,f(i),w(i),s)}function f(e){return e.query}function p(e){return e.delta}{var l=e(70),d=e(31),h=e(27)(),g=e(8),m="/objects",v=t.exports=l.curry(function(e,n,i,o,s,a){var u={},c={};u=d.isObject(a)?a:{uid:a},c=d.isEmpty(s)?u:s;var f={app:e,cls:n,headers:i,query:o,data:c,delta:u,toJSON:function(){return c}};return f=h.build(t.exports,f),r(f),f});t.exports.get=l.curry(function(e,t){return w(t)[e]||p(t)[e]})}h.define("get",2);var y=t.exports.getHeaders=function(e){return e.headers};h.define("getHeaders",1),t.exports.getCombinedHeaders=function(t){var n=e(9),r=n.getCombinedHeaders(t.cls),i=l.mixin(r.headers,t.headers);return i},h.define("getCombinedHeaders",1);t.exports.setHeader=l.curry(function(e,t,n){var r=n.headers,i=l.mixin({},r);return i[e]=t,n.cls.ObjectCons(i,f(n),w(n),p(n))});h.define("setHeader",3),t.exports.removeHeader=l.curry(function(e,t){var n=l.mixin({},t.headers);return delete n[e],t.cls.ObjectCons(n,f(t),w(t),p(t))}),h.define("removeHeader",2);var x=t.exports.getURL=function(t){var n=e(9);return t.isNew()?n.getURL(t.cls)+m+"/"+t.getUid():n.getURL(t.cls)+m};h.define("getURL",1),t.exports.decrement=l.curry(function(e,t,n){return u("SUB",e,t,n)}),h.define("decrement",3),t.exports.increment=l.curry(function(e,t,n){return u("ADD",e,t,n)}),h.define("increment",3),t.exports.divide=l.curry(function(e,t,n){return u("DIV",e,t,n)}),h.define("divide",3),t.exports.multiply=l.curry(function(e,t,n){return u("MUL",e,t,n)}),h.define("multiply",3);var w=t.exports.getData=function(e){return e.data};h.define("getData",1),t.exports.assign=l.curry(function(e,t){var n=l.mixin(w(t),e),r=l.mixin(p(t),e);return t.cls.ObjectCons(t.headers,f(t),n,r)}),h.define("assign",2);var b=t.exports.set=l.curry(function(e,t,n){var r=l.mixin({},w(n)),i=l.mixin({},p(n));return r[e]=t,i[e]=t,n.cls.ObjectCons(n.headers,f(n),r,i)});h.define("set",3);t.exports.getUid=function(e){return p(e).uid||w(e).uid};h.define("getUid",1),t.exports.setUid=b("uid"),h.define("setUid",2),t.exports.setTags=l.curry(function(e,t){var n=p(t);return n.tags=e,t.cls.ObjectCons(t.headers,f(t),w(t),n)}),h.define("setTags",2),t.exports.setLocation=l.curry(function(e,t){var n=l.mixin({},p(t)),r=e.toJSON();return n.__loc=[r.longitude,r.latitude],t.cls.ObjectCons(t.headers,f(t),w(t),n)}),h.define("setLocation",2),t.exports.getLocation=l.curry(function(e){var t=g.Location,n=e.get("__loc"),r=t(n[0],n[1]);return r}),h.define("getLocation",1),t.exports.isNew=function(e){return!!e.getUid()},h.define("isNew",1),t.exports.pushValueAtIndex=l.curry(function(e,t,n,r){return c("PUSH",e,t,n,r)}),h.define("pushValueAtIndex",4),t.exports.pushValue=l.curry(function(e,t,n){return c("PUSH",e,t,"",n)}),h.define("pushValue",3),t.exports.pullValue=l.curry(function(e,t,n){return c("PULL",e,t,"",n)}),h.define("pullValue",3),t.exports.pullValueAtIndex=l.curry(function(e,t,n){return c("PULL",e,"",t,n)}),h.define("pullValueAtIndex",3),t.exports.updateValueAtIndex=l.curry(function(e,t,n,r){return c("UPDATE",e,t,n,r)}),h.define("updateValueAtIndex",4),t.exports.upsert=l.curry(function(e,t){var n=l.mixin({},p(t));return n.UPSERT=e,t.cls.ObjectCons(t.headers,f(t),w(t),n)}),h.define("upsert",2),t.exports.has=l.curry(function(e,t){return t.data.hasOwnProperty(e)}),h.define("has",2),t.exports.setACL=l.curry(function(e,t){var n=l.mixin({},p(t));return n.ACL=e.toJSON(),t.cls.ObjectCons(t.headers,f(t),w(t),n)}),h.define("setACL",2),t.exports.getACL=function(e){return g.ACL(e.get("ACL"))},h.define("getACL",1);t.exports.addGroup=l.curry(function(e,t){var n=l.mixin({},p(t));return e=JSON.parse(JSON.stringify(e)),n=l.mixin(e,n),t.cls.ObjectCons(t.headers,f(t),w(t),n)});h.define("addGroup",2),t.exports.setReference=l.curry(function(e,t,n){var r=l.mixin({},p(n)),i=[];if(!d.isArray(t))throw new Error("Expected 'Array' found '"+typeof array+"'");if(t[0]&&t[0].app)for(var o=0;o<t.length;o++){if(!t[o].getUid())throw new Error("Uid not found");i.push(t[o].getUid())}else i=t.slice(0);return r[e]=i,n.cls.ObjectCons(n.headers,f(n),w(n),r)}),h.define("setReference",3),t.exports.setReferenceWithObject=l.curry(function(e,t,n){var r=l.mixin({},p(n)),i=[];if(!d.isArray(t))throw new Error("Expected 'Array' found '"+typeof array+"'");if(t[0]&&t[0].app)for(var o=0;o<t.length;o++)i.push(t[o].toJSON());else i=t;return r[e]=i,n.cls.ObjectCons(n.headers,f(n),w(n),r)}),h.define("setReferenceWithObject",3),t.exports.setReferenceWhere=l.curry(function(e,t,n){var r=l.mixin({},p(n)),i={WHERE:t};return r[e]=i,n.cls.ObjectCons(n.headers,f(n),w(n),r)}),h.define("setReferenceWhere",3),t.exports.upsertForReference=l.curry(function(e,t,n){var r=l.mixin({},p(n));return r[e]=t,n.cls.ObjectCons(n.headers,f(n),w(n),r)}),h.define("upsertForReference",3),t.exports.timeless=function(e){var t=y(e);return t.timeless=!0,e.cls.ObjectCons(t,f(e),w(e),p(e))},h.define("timeless",1);var A=t.exports.addQuery=l.curry(function(e,t,n){var r=l.mixin({},f(n));return r[e]=t,n.cls.ObjectCons(n.headers,r,w(n),p(n))});h.define("addQuery",3),t.exports.includeOwner=A("include_owner",!0),h.define("includeOwner",1),t.exports.include=A("include"),h.define("include",2);var E=l.curry(function(e,t,n,r){var i=l.mixin({},f(r));return i[e]=i[e]?l.mixin(i[e],d.keyValue(t,n)):d.keyValue(t,n),r.cls.ObjectCons(y(r),i,w(r),p(r))});t.exports.except=E("except","BASE"),h.define("except",2),t.exports.exceptReference=E("except"),h.define("exceptReference",3),t.exports.only=E("only","BASE"),h.define("only",2),t.exports.onlyReference=E("only"),h.define("onlyReference",3),t.exports.saveAsDraft=function(e){var n=l.mixin({},p(e));n.published=!1;var r=e.cls.ObjectCons(e.headers,f(e),w(e),n);return t.exports.save(r)},h.define("saveAsDraft",1),t.exports.save=function(e){var n,r={object:p(e)},o=e.app.options.adaptor;n=e.isNew()?"PUT":"POST";var s=f(e);0===Object.keys(s).length&&(s=null);var a=d.getAdaptorObj(n,x(e),t.exports.getCombinedHeaders(e),r,s);return o.makeCall(a).then(function(t){if(t.entity.count){var n=[];return n.push(t.entity.count),n.push(i(e,t.entity.object)),n}return i(e,t.entity.object)})},h.define("save",1),t.exports.fetch=function(e){var n=e.app.options.adaptor,r=d.keyValue("_method","GET");if(r=l.mixin(r,f(e)),!e.isNew())throw new Error("Uid not found");var i=d.getAdaptorObj("POST",t.exports.getURL(e),t.exports.getCombinedHeaders(e),r,null);return n.makeCall(i).then(function(t){return e.cls.ObjectCons(y(e),f(e),t.entity.object,p(e))})},h.define("fetch",1),t.exports["delete"]=function(e){var n=e.app.options.adaptor;if(!e.isNew())throw new Error("Uid not found");var r=d.getAdaptorObj("DELETE",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(e){return null})},h.define("delete",1),t.exports.getGroupForKey=function(e,t){var n=t.get(e);if(!n)throw new Error("Key not found in object");return d.isArray(n)?g.GroupMultiple(e,n):g.Group(e,n)},h.define("getGroupForKey",2),t.exports.toBackboneModel=function(e,t){if(!d.backboneExist())throw new Error("BACKBONE not included");var n=o(e,t);return d.isObject(t)?new n(t.toJSON()):void 0},h.define("toBackboneModel",2,[null]),v.BackboneCollection=function(e){var t=this;if(d.backboneExist()){if(e.objects){var n=Backbone.Collection.extend({sync:function(n,r,i){2==arguments.length&&(i=r,r=this),i=i||{};var s=this;if("read"===n&&t){var a=t.cls.Query();a.exec().then(function(t){for(var n=0;n<t.length;n++)if("object"==typeof t[n]){var r=o(e.model,t[n]);s.add(new r(t[n].toJSON()))}i.success(s.models)},function(e){i.error(e)})}return null}});n=new n;for(var r=0;r<e.objects.length;r++)if("object"==typeof e.objects[r]){var i=o(e.model,e.objects[r]);n.add(new i(e.objects[r].toJSON()))}return n}if(e.query){var n=Backbone.Collection.extend({sync:function(t,n,r){2==arguments.length&&(r=n,n=this),r=r||{};var i=this;if("read"==t){var s=e.query;s.exec().then(function(t){for(var n=0;n<t.length;n++){var s=o(e.model,t[n]);i.add(new s(t[n].toJSON()))}r.success(i.models)},function(e){r.error(e)})}return null}});return new n}new Error("Config argument not set properly")}}},{27:27,31:31,70:70,8:8,9:9}],19:[function(e,t,n){function r(e){return i.mixin({},c(e))}var i=e(70),o=e(101),s=e(31),a=e(27)(),u=(e(8),t.exports=i.curry(function(e,n){var r={toJSON:function(){return n},data:n,app:e};return a.build(t.exports,r)})),c=i.prop("data"),f=t.exports.set=i.curry(function(e,t,n){var i=r(n);return i[e]=t,u(n.app,i)});t.exports.setStatusMessage=f("state"),a.define("setStatusMessage",2),t.exports.setState=f("state"),a.define("setState",2),t.exports.setPublic=f("public"),a.define("setPublic",2),t.exports.enable=f("enabled"),a.define("enable",2),t.exports.setWhiteList=i.curry(function(e,t){if(!s.isArray(e))throw new Error("Expected users to be an array");return f("whitelist",i.uniq(e),t)}),a.define("setWhiteList",2),t.exports.getWhiteListUsers=function(e){return e.get("whitelist")||[]},a.define("getWhiteListUsers",1),t.exports.getLastSeen=function(e){return e.get("last_seen")},a.define("getLastSeen",1),t.exports.getStatus=function(e){return e.get("status")},a.define("getStatus",1),t.exports.addInWhitelist=i.curry(function(e,t){var n=t.getWhiteListUsers().concat([]);if(e.app&&e.get("uid"))n.push(e.get("uid"));else{if(!s.isString(e))throw new Error("Expected user to be a SDK object or a String");n.push(e)}return f("whitelist",i.uniq(n),t)}),a.define("addInWhitelist",2),t.exports.removeFromWhitelist=i.curry(function(e,t){var n=t.getWhiteListUsers().concat([]);if(e.app&&e.get("uid"))n=s.findAndRemove(e.get("uid"),n);else{if(!s.isString(e))throw new Error("Expected 'user' to be a SDK object or a String");n=s.findAndRemove(e,n)}return f("whitelist",i.uniq(n),t)}),a.define("removeFromWhitelist",2),t.exports.acceptRequests=i.curry(function(e,t){if(!s.isArray(e))throw new Error("User's uids must be array");var n=r(t);return n.requests=i.difference(t.getRequests(),e),n.whitelist=n.whitelist.concat(e),u(t.app,n)}),a.define("acceptRequests",2),t.exports.save=function(e){return l("setPresence",c(e),e)},a.define("save",1);var p=t.exports.get=i.curry(function(e,t){return i.prop(e,c(t))});a.define("get",2),t.exports.getRequests=p("requests"),a.define("getRequests",1),t.exports.getStatusMessage=p("state"),a.define("getStatusMessage",1),t.exports.getState=p("state"),a.define("getState",1),t.exports.isPublic=p("public"),a.define("isPublic",1),t.exports.isEnabled=p("enabled"),a.define("isEnabled",1),t.exports.getApplicationUser=function(e){return i.prop("application_user",c(e))},a.define("getApplicationUser",1);var l=i.curry(function(e,t,n){function r(n){n.emit(e,t,function(e,t){e&&s.reject(e),!e&&t&&s.resolve(u(i,t.presence))})}var i=n.app,s=(i.getSocket(),o.defer());return i.isSocketConnected()?i.isSocketAuthStarted()?i.getAdhocOperations().push(r):r(i.getSocket()):i.getAdhocOperations().push(r),s.promise})},{101:101,27:27,31:31,70:70,8:8}],20:[function(e,t,n){function r(e,t){return g.isArray(e)?t(e):i(e,t)}function i(e,t){var n={};return e.created_at&&(n.created=t(e.created_at)),e.deleted_at&&(n.deleted=t(e.deleted_at)),e.updated_at&&(n.updated=t(e.updated_at)),n}function o(e){return e}function s(e){var t=h.mixin({},E(e));return e.getBlacklist()&&(t=u(t,e.getBlacklist())),{conditions:t,headers:e.headers,className:e.cls.uid,apiKey:e.app.getApiKey()}}function a(e,t){for(var n in e)n===t?delete e[n]:g.isArray(e[n])?e[n].map(function(e){a(e,t)}):"object"==typeof e[n]&&a(e[n],t);return e}function u(e,t){for(var n=JSON.parse(JSON.stringify(e)),r=0;r<t.length;r++)n=a(n,t[r]);return n}function c(e){return v(JSON.stringify(e))}function f(e){var t=y.defer();if(g.isLocalStroageAvaliable()){var n=localStorage.getItem(e);n?t.resolve(JSON.parse(n)):t.reject(null)}else t.reject();return t.promise}function p(e){var n=e.app.options.adaptor,r=h.mixin({},E(e));r._method="GET";var i=g.getAdaptorObj("POST",d(e),t.exports.getCombinedHeaders(e),r,null);return l(i,n)}function l(e,t){return t.makeCall(e).then(function(e){return e.entity})}function d(t){var n=e(9);return n.getURL(t.cls)+"/objects"}var h=e(70),g=e(31),m=(e(18),e(27)()),v=e(33).md5,y=e(101),x=e(8),w="BACKBONE_TRANSFORM",b="JSON_TRANSFORM",A=t.exports=h.curry(function(e,n,r,i,o){var s={app:e,cls:n,headers:r,cachePolicy:i,data:o||{}};return m.build(t.exports,s)}),E=t.exports.getConditions=h.prop("data");m.define("getConditions",1);var S=t.exports.getQueryObj=h.compose(h.prop("query"),E);m.define("getQueryObj",1),t.exports.getTransform=h.compose(h.prop("transform"),h.prop("data")),m.define("getTransform",1),t.exports.toJSON=function(e){var t=h.mixin({},E(e));return t.transform=b,A(e.app,e.cls,e.headers,e.cachePolicy,t)},m.define("toJSON",1),t.exports.toBackbone=function(e){var t=h.mixin({},E(e));return t.transform=w,A(e.app,e.cls,e.headers,e.cachePolicy,t)},m.define("toBackbone",1);var _=t.exports.setHeader=h.curry(function(e,t,n){var r=n.headers,i=h.mixin({},r);return i[e]=t,A(n.app,n.cls,i,n.cachePolicy,E(n))});m.define("setHeader",3);var O=t.exports.removeHeader=h.curry(function(e,t){var n=t.header,r=h.mixin({},n);return delete r[e],A(t.app,t.cls,r,t.cachePolicy,E(t))});m.define("removeHeader",2),t.exports.setMasterKey=_("master_key"),m.define("setMasterKey",2),t.exports.removeMasterKey=O("master_key"),m.define("removeMasterKey",1),t.exports.getHeaders=function(e){return e.headers},m.define("getHeaders",1),t.exports.getCombinedHeaders=function(t){var n=e(9),r=n.getCombinedHeaders(t.cls),i=h.mixin(r.headers,t.headers);return i},m.define("getCombinedHeaders",1);var C=h.curry(function(e,t,n){var r=h.mixin({},E(n)),i=h.mixin({},S(n));return i[t]={$exists:e},r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.exists=C(!0),m.define("exists",2),t.exports.doesNotExists=C(!1),m.define("doesNotExists",2);var k=h.curry(function(e,t,n,r,i){var o=h.mixin({},E(i)),s=h.mixin({},S(i));return s[t]=g.keyValue(e,{query:E(n).query,class_uid:n.cls.uid,key:r}),o.query=s,A(i.app,i.cls,i.headers,i.cachePolicy,o)});t.exports.select=k("$select"),m.define("select",4),t.exports.dontSelect=k("$dont_select"),m.define("dontSelect",4),t.exports.where=h.curry(function(e,t,n){var r=h.mixin({},E(n)),i=h.mixin({},S(n));return i[e]=t,r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)}),m.define("where",3);var U=t.exports.addQueryParams=h.curry(function(e,t,n){var r=h.mixin({},E(n));return r[e]=t,A(n.app,n.cls,n.headers,n.cachePolicy,r)});m.define("addQueryParams",3),t.exports.includeCount=U("include_count",!0),m.define("includeCount",1),t.exports.count=U("count",!0),m.define("count",1),t.exports.include=U("include"),m.define("include",2),t.exports.skip=U("skip"),m.define("skip",2),t.exports.limit=U("limit"),m.define("limit",2),t.exports.includeOwner=U("include_owner",!0),m.define("includeOwner",1),t.exports.includeSchema=U("include_schema",!0),m.define("includeSchema",1),t.exports.includeDrafts=U("include_unpublished",!0),m.define("includeDrafts",1),t.exports.onlyDrafts=function(e){var t=e.includeDrafts(),n=h.mixin({},E(t)),r=h.mixin({},S(t));return r.published=!1,n.query=r,A(e.app,e.cls,e.headers,e.cachePolicy,n)},m.define("onlyDrafts",1);var j=h.curry(function(e,t,n,r){var i=h.mixin({},E(r)),o=h.mixin({},S(r));return o[t]=g.keyValue(e,S(n)),i.query=o,A(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.inQuery=j("$in_query"),m.define("inQuery",3),t.exports.notInQuery=j("$nin_query"),m.define("notInQuery",3),t.exports.matches=h.curry(function(e,t,n,r){var i=h.mixin({},E(r)),o=h.mixin({},S(r));return o[e]={$regex:t,$options:n},i.query=o,A(r.app,r.cls,r.headers,r.cachePolicy,i)}),m.define("matches",4,["i"]),t.exports.withinLocation=h.curry(function(e,t){var n=h.mixin({},E(t)),r=h.mixin({},S(t));if(!g.isArray(e))throw new Error("Locations should be a Array");if(e.length<3)throw new Error("Minimum 3 locations or objectUids required");var i=e.map(function(e){if(e.data)return[e.toJSON().longitude,e.toJSON().latitude];if(g.isString(e))return{object:e};throw new Error("Invalid parameter"+e)});return r.$within=i,n.query=r,A(t.app,t.cls,t.headers,t.cachePolicy,n)}),m.define("withinLocation",2),t.exports.containedIn=h.curry(function(e,t,n){var r=h.mixin({},E(n)),i=h.mixin({},S(n));return g.isArray(t)||(t=[t]),i[e]={$in:t},r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)}),m.define("containedIn",3),t.exports.notContainedIn=h.curry(function(e,t,n){var r=h.mixin({},E(n)),i=h.mixin({},S(n));return g.isArray(t)||(t=[t]),i[e]={$nin:t},r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)}),m.define("notContainedIn",3),t.exports.ascending=U("asc"),m.define("ascending",2),t.exports.descending=U("desc"),m.define("descending",2),t.exports.beforeUid=U("before_uid"),m.define("beforeUid",2),t.exports.afterUid=U("after_uid"),m.define("afterUid",2);var R=h.curry(function(e,t,n){var r=h.mixin({},E(n)),i=h.mixin({},S(n));i[e]=[];for(var o=0;o<t.length;o++){var s=E(t[o]);i[e].push(s.query),r=h.mixin(r,s)}return r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.and=R("$and"),m.define("and",2),t.exports.or=R("$or"),m.define("or",2);var P=h.curry(function(e,t,n,r){var i=h.mixin({},E(r)),o=h.mixin({},S(r));return o[t]=g.keyValue(e,n),i.query=o,A(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.greaterThan=P("$gt"),m.define("greaterThan",3),t.exports.greaterThanOrEqualTo=P("$gte"),m.define("greaterThanOrEqualTo",3),t.exports.lessThan=P("$lt"),m.define("lessThan",3),t.exports.lessThanOrEqualTo=P("$lte"),m.define("lessThanOrEqualTo",3),t.exports.notEqualTo=P("$ne"),m.define("notEqualTo",3),t.exports.setCachePolicy=h.curry(function(e,t){if(t.app.validateCachePolicy(e))return A(t.app,t.cls,t.headers,e,E(t));throw new Error("Invalid cache policy")}),m.define("setCachePolicy",2);{var T=h.curry(function(e,t){return g.isLocalStroageAvaliable()&&localStorage.setItem(e,JSON.stringify(t)),t}),L=h.curry(function(e,t,n){t instanceof Date&&(t=t.toISOString());var r=h.mixin({},E(n)),i=h.mixin({},r.delta);return i[e]=t,r.delta=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)});t.exports.deltaCreatedFrom=L("created_at")}m.define("deltaCreatedFrom",2);t.exports.deltaUpdatedFrom=L("updated_at");m.define("deltaUpdatedFrom",2);t.exports.deltaDeletedFrom=L("deleted_at");m.define("deltaDeletedFrom",2),t.exports.deltaAll=L("ALL"),m.define("deltaAll",2);var N=h.curry(function(e,t){var n=e.cls.ObjectCons,i=Object.keys(t),s=t.objects,a=e.getTransform(),u=I(n);switch(a){case w:u=M(n);break;case b:u=o}if(i.length>1){var c=[];return c.push(r(s,u)),t.schema&&c.push(t.schema),t.count&&c.push(t.count),c}return g.isNumber(s)?s:r(s,u)}),I=h.curry(function(e,t){return t.map(function(t){return e({},{},t,{})})}),M=h.curry(function(e,t){var n=I(e,t),r=e.BackboneCollection({objects:n});return r});t.exports.exec=function(e){var t=c(s(e)),n=T(t),r=N(e);switch(e.cachePolicy){case x.CachePolicy.ONLY_NETWORK:return p(e).then(r);case x.CachePolicy.CACHE_ELSE_NETWORK:return f(t).then(r)["catch"](function(){return p(e).then(n).then(r)});case x.CachePolicy.NETWORK_ELSE_CACHE:return p(e).then(n).then(r)["catch"](function(e){return f(t).then(r)["catch"](function(){throw e})});case x.CachePolicy.CACHE_THEN_NETWORK:var i=function(){};return{cache:f(t).then(r).then(function(e){return i(null,e),e}),network:p(e).then(n).then(r).then(function(e){return i(null,e),e})["catch"](function(e){i(e,null)}),both:function(e){i=e}}}},m.define("exec",1),t.exports.setBlacklist=function(e,t){if(!g.isArray(e))throw new Error("Expected 'Array' found '"+typeof e+"'");var n=h.mixin({},E(t));return n.blacklists=e,A(t.app,t.cls,t.headers,t.cachePolicy,n)},m.define("setBlacklist",2),t.exports.getBlacklist=function(e){return E(e).blacklists},m.define("getBlacklist",1),t.exports.nearLocation=h.curry(function(e,t,n){t=t||1e3;var r=h.mixin({},E(n)),i=h.mixin({},S(n));if(e&&e.data&&g.isNumber(t)){var o=e.toJSON();i.$near={coords:[o.longitude,o.latitude],radius:t}}else{if(!g.isString(e)||!g.isNumber(t))throw new Error("Invalid parameters");i.$near={coords:{object:e},radius:t}}return r.query=i,A(n.app,n.cls,n.headers,n.cachePolicy,r)}),m.define("nearLocation",3,[null]),t.exports["delete"]=function(e){var n=e.app.options.adaptor,r=h.mixin({},E(e));r._method="DELETE";var i=g.getAdaptorObj("POST",d(e),t.exports.getCombinedHeaders(e),r,null);return l(i,n)["yield"](null)},m.define("delete",1);var B=h.curry(function(e,t,n,r){var i=h.mixin({},E(r));return i[e]=i[e]?h.mixin(i[e],g.keyValue(t,n)):g.keyValue(t,n),A(r.app,r.cls,r.headers,r.cachePolicy,i)});t.exports.except=B("except","BASE"),m.define("except",2),t.exports.exceptReference=B("except"),m.define("exceptReference",3),t.exports.only=B("only","BASE"),m.define("only",2),t.exports.onlyReference=B("only"),m.define("onlyReference",3),
t.exports.setRawQuery=h.curry(function(e,t){var n=h.mixin({},E(t));return n.query=e,A(t.app,t.cls,t.headers,t.cachePolicy,n)}),m.define("setRawQuery",2)},{101:101,18:18,27:27,31:31,33:33,70:70,8:8,9:9}],21:[function(e,t,n){function r(e){return u.mixin({},o(e))}function i(e){return u.mixin({},s(e))}function o(e){return e.delta}function s(e){return e.data}function a(e,t){var n;if(s(t)[e])var n=[].concat(s(t)[e]);else n=[];return n}{var u=e(70),c=e(31),f=e(27)(),p=e(18),l=e(10);t.exports=u.curry(function(e,n,r,i,o,s){var a=p(e,n,r,{},o,s);return f.build(t.exports,a)})}c.copyProperties(t.exports,p),t.exports.getRoleQuery=function(e){return function(){return e.Class(l.APP_ROLE_CLS).Query()}};var d=u.curry(function(e,t,n){c.isObject(t)&&t.get("uid")&&(t=t.get("uid"));var o=r(n),s=i(n),u=a(e,n);return u.push(t),o[e]=u,s[e]=u,n.cls.ObjectCons(n.getHeaders(),{},s,o)});t.exports.addRole=d("roles"),f.define("addRole",2),t.exports.addUser=d("users"),f.define("addUser",2),t.exports.addRoles=u.curry(function(e,t){var n=u.mixin({},t);return e.forEach(function(e){n=n.addRole(e)}),n}),f.define("addRoles",2),t.exports.addUsers=u.curry(function(e,t){var n=u.mixin({},t);return e.forEach(function(e){n=n.addUser(e)}),n}),f.define("addUsers",2),t.exports.getName=t.exports.get("name"),f.define("getName",1),t.exports.getRoles=t.exports.get("roles"),f.define("getRoles",1),t.exports.getRoleUid=t.exports.get("uid"),f.define("getRoleUid",1),t.exports.getUsers=t.exports.get("users"),f.define("getUsers",1),t.exports.setName=t.exports.set("name"),f.define("setName",2),t.exports.setRoleUid=t.exports.set("uid"),f.define("setRoleUid",2);var h=u.curry(function(e,t,n){return u.contains(t,s(n)[e])});t.exports.hasRole=h("roles"),f.define("hasRole",2),t.exports.hasUser=h("users"),f.define("hasUser",2);var g=u.curry(function(e,t,n){var o=r(n),s=i(n),u=a(e,n),c=u.indexOf(t);return c>-1&&u.splice(c,1),o[e]=u,s[e]=u,n.cls.ObjectCons(n.getHeaders(),{},s,o)});t.exports.removeRole=g("roles"),f.define("removeRole",2),t.exports.removeUser=g("users"),f.define("removeUser",2)},{10:10,18:18,27:27,31:31,70:70}],22:[function(e,t,n){var r=t.exports.set=function(e,t){document.cookie=e+"="+t};t.exports["delete"]=function(e){r(e,"")},t.exports.get=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(-1!=i.indexOf(t))return i.substring(t.length,i.length)}return""}},{}],23:[function(e,t,n){t.exports.set=function(e,t){t=JSON.stringify(t),window.localStorage.setItem(e,t)},t.exports["delete"]=function(e){window.localStorage.removeItem(e)},t.exports.get=function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):void 0}},{}],24:[function(e,t,n){(function(n){function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onUploadInstance&&t.realtime.onUploadInstance(e)})}function i(e,t){if(E(t))e.encodedUpload=o(t);else if(C.isBrowser())if("undefined"!=typeof t[0])e.file=t[0];else{if(!(t&&(1===t.nodeType||9===t.nodeType)||"undefined"!=typeof FormData&&t instanceof FormData||"undefined"!=typeof File&&t instanceof File))throw new Error("The parameter is not valid or not supported by the platform. Please pass an html input elment.");e.file=t}else if(t.indexOf("://")>=0)e.file=t;else if(S.existsSync(t)){if(!S.statSync(t).isFile())throw new Error("invalid file path: "+t);e.file=t}return e}function o(e){var t=/\.([^.]*)$/.exec(e.name);t&&(t=t[1].toLowerCase());var r=e.contentType||j.MIME_TYPES[t]||"text/plain";if(e.bytes)return{bytesData:e.bytes,contentType:r,name:e.name};if(e.base64){var i=e.base64,o=j.BASE_64_REGEX.exec(i);o&&o.length>0&&(i=4===o.length?o[3]:o[2],r=o[1]);var s=new n(i,"base64");return{bytesData:s,contentType:r,name:e.name}}throw new Error("Invalid file format")}function s(e){return e.data}function a(e){return e.params}function u(e){return B(e)?"PUT":"POST"}function c(e){if(D(e)instanceof FormData)return D(e);if("undefined"!=typeof File&&D(e)instanceof File){var t=new FormData;return t.append("upload[upload]",D(e)),t}if(!D(e)||1!==D(e).nodeType&&9!==D(e).nodeType)throw new Error("HTML input file element or FormData or File required");var t=new FormData;if("file"==D(e).getAttribute("type"))return t.append("upload[upload]",D(e).files[0]),t;throw new Error("input file element required")}function f(e){if("https://api.Built.io Backend"===e.origin){var t=e.data?e.data:e.message;t=JSON.parse(t);var n=t.postmessage_payload;I[n](t),delete I[n],l(n)}}function p(){window?window.addEventListener("message",f,!1):window.attachEvent("onmessage",f)}function l(e){var t=document.getElementById("builtUploadForm"+e),n=document.getElementById("builtIFrame"+e);t.parentNode.removeChild(t),n.parentNode.removeChild(n)}function d(e){var n=e.app.options.adaptor,r={},i=c(e);return r.formData=i,r.headers=t.exports.getCombinedHeaders(e),r.url=t.exports.getURL(e),i.append("PARAM",JSON.stringify({upload:a(e)})),i.append("_method",u(e)),delete r.headers["Content-Type"],n.makeXMLHttpRequest(r).then(function(t){var n=JSON.parse(t);return M(e.app,e.headers,n.upload,n.upload.uid)})}function h(e){return C.isString(s(e).file)?m(e):g(s(e).encodedUpload,e)}function g(e,t){var e=s(t).encodedUpload;return v(e.contentType,e.name,e.bytesData,t)}function m(e){var t=/\.([^.]*)$/.exec(s(e).file);t&&(t=t[1].toLowerCase());var n=D(e),r=j.MIME_TYPES[t],i=N.basename(n),o=S.readFileSync(n);return v(r,i,o,e)}function v(e,n,r,i){var o=y(i),s=t.exports.getCombinedHeaders(i),u=JSON.stringify({PARAM:{upload:a(i)}}),c=[{contentType:e,keyName:j.UPLOAD_KEY_NAME,fileName:n,data:r}];return U.postData(u,c,o,s).then(function(e){var t=JSON.parse(e);return M(i.app,i.headers,t.upload,t.upload.uid)})}function y(e){var n=t.exports.getURL(e),r="",i="",o="POST";e.getUid()&&(o="PUT"),"http://"===n.substr(0,7)?r=n.split("http://")[1].split(":")[0]:"https://"===n.substr(0,8)&&(r=n.split("https://")[1].split(":")[0]);for(var s=n.split("https://")[1].split(":")[1].split("/"),a=1;a<s.length;a++)i+="/"+s[a];return{host:r,path:i,method:o,encoding:"utf8"}}function x(e){var n=D(e).cloneNode();D(e).style.display="none",D(e).parentNode.insertBefore(n,D(e));var r=Math.floor(1e3*Math.random()),i=O.defer();I[r]=function(t){t.upload?(P.trigger("upload:end"),i.resolve(M(e.app,e.headers,t.upload,t.upload.uid))):i.reject(t)};var o=w(e,r),s=b(e,t.exports.getURL(e),t.exports.getCombinedHeaders(e),u(e),JSON.stringify({upload:a(e)}),D(e),r);return document.body.appendChild(o),document.body.appendChild(s),P.trigger("upload:start"),s.submit(),i.promise}function w(e,t){var n=document.createElement("iframe");return n.setAttribute("id","builtIFrame"+t),n.setAttribute("name","builtIFrame"+t),n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("style","display:none"),n}function b(e,t,n,r,i,o,s){var a=document.createElement("form");a.setAttribute("id","builtUploadForm"+s),a.setAttribute("target","builtIFrame"+s),a.setAttribute("method","post"),a.setAttribute("height","0"),a.setAttribute("width","0"),a.setAttribute("style","display:none"),a.setAttribute("enctype","multipart/form-data"),a.setAttribute("encoding","multipart/form-data"),a.setAttribute("action",t+".postmessage"),a.appendChild(A("PARAM",i)),a.appendChild(A("postmessage_payload",s)),a.appendChild(A("_method",r)),a.appendChild(A("host",document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.host)),o.setAttribute("name","upload[upload]"),a.appendChild(o);for(var u in n)a.appendChild(A(u.toUpperCase(),n[u]));return a}function A(e,t){var n;return n=document.createElement("input"),n.type="hidden",n.name=e,n.value=t,n}function E(e){return!(!C.isObject(e)||!e.name||!e.base64&&!e.bytes)}var S,_=e(70),O=e(101),C=e(31),k=e(27)(),U=e(29),j=e(10),R=e(8),P=e(11),T=e(34),L=T.https,N=T.path;C.isBrowser()||(S=T.fs);var I={};C.isBrowser()&&p();var M=t.exports=_.curry(function(e,n,o,s){var a={};C.isString(s)&&s.match(/^blt[a-z0-9]*/i)?a.uid=s:a=!_.isEmpty(_.keys(s))&&s.name&&(s.base64||s.bytes)?i(a,s):s;var u={app:e,headers:n,params:o,data:a,toJSON:function(){return o}};return r(u),k.build(t.exports,u)});t.exports.download=function(e){if(!e.getDownloadLink())throw new Error("Object cannot be downloaded as download link not found");if(!C.isBrowser()){var t=O.defer();return L.get(e.getDownloadLink(),function(e){t.resolve(e)}),t.promise}window.open(e.getDownloadLink())},k.define("download",1),t.exports.isNew=function(e){return!!e.data.uid},k.define("isNew",1),t.exports.setUid=_.curry(function(e,t){var n=_.mixin({},s(t));return n.uid=e,M(t.app,t.headers,t.params,n)}),k.define("setUid",2);var B=t.exports.getUid=function(e){return s(e).uid};k.define("getUid",1);var D=t.exports.getUploadPayload=function(e){return s(e).file?s(e).file:s(e).encodedUpload?s(e).encodedUpload:s(e).uid};k.define("getUploadPayload",1),t.exports.setFile=_.curry(function(e,t){var n=_.mixin({},s(t));return M(t.app,t.headers,t.params,i(n,e))}),k.define("setFile",2),t.exports.unsetFile=function(e){return B(e)?M(e.app,e.headers,e.params,data.uid):M(e.app,e.headers,e.params,{})},k.define("unsetFile",1),t.exports.save=function(e){var t=(e.app.options.adaptor,D(e));if(t){if(C.isBrowser()){if(s(e).encodedUpload)return g(s(e).encodedUpload,e);if(C.supportsFormData())return d(e);if("file"==D(e).getAttribute("type"))return x(e);throw new Error("Input file element required for upload")}return h(e)}throw new Error("No upload found")},k.define("save",1),t.exports["delete"]=function(e){var n=e.app.options.adaptor;if(!B(e))throw new Error("Upload object needs to be associated with a uid");var r=C.getAdaptorObj("DELETE",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(e){return null})},k.define("delete",1),t.exports.fetch=function(e){var n=e.app.options.adaptor;if(!B(e))throw new Error("Upload object needs to be associated with a uid");var r=C.getAdaptorObj("GET",t.exports.getURL(e),t.exports.getCombinedHeaders(e),null,null);return n.makeCall(r).then(function(n){return M(e.app,t.exports.getCombinedHeaders(e),n.entity.upload,n.entity.upload.uid)})},k.define("fetch",1);var H=_.curry(function(e,t,n){var r=_.mixin({},a(n));return r[e]=t,M(n.app,n.headers,r,n.data)});t.exports.setACL=_.curry(function(e,t){var n=_.mixin({},a(t));return n.ACL=e.toJSON(),M(t.app,t.headers,n,t.data)}),k.define("setACL",2),t.exports.getACL=function(e){return R.ACL(a(e).ACL)},k.define("getACL",1),t.exports.setTags=H("tags"),k.define("setTags",2);var q=_.curry(function(e,t){return a(t)[e]});t.exports.getDownloadLink=q("url"),k.define("getDownloadLink",1),t.exports.getTags=q("tags"),k.define("getTags",1),t.exports.getContentType=q("content_type"),k.define("getContentType",1),t.exports.getFileSize=q("file_size"),k.define("getFileSize",1),t.exports.getFileName=q("filename"),k.define("getFileName",1),t.exports.getHeaders=function(e){return e.headers},k.define("getHeaders",1),t.exports.getURL=function(t){var n=e(8);return B(t)?n.App.getURL(t.app)+"/uploads/"+B(t):n.App.getURL(t.app)+"/uploads"},k.define("getURL",1),t.exports.getCombinedHeaders=function(t){var n=e(8);return _.mixin(t.headers,n.App.getHeaders(t.app))},k.define("getHeaders",1)}).call(this,e(36).Buffer)},{10:10,101:101,11:11,27:27,29:29,31:31,34:34,36:36,70:70,8:8}],25:[function(e,t,n){function r(e){return e.map(function(e){var t={UPSERT:e.condition};return i.mixin(t,e.replacement)})}{var i=e(70),o=(e(31),e(27)());t.exports=function(e){var n={data:r(e),_isUpsert:!0,toJSON:function(){return this.data}};return o.build(t.exports,n)}}},{27:27,31:31,70:70}],26:[function(e,t,n){function r(e){pluginsHelper.plugins.map(function(t){t.realtime&&t.realtime.onUserInstance&&t.realtime.onUserInstance(e)})}function i(e,n,r,i){var o=u(i)+"/retrieve_user_uid",s=l("auth_data",l(e,l(n,r))),a={application_user:h.assign(s,i).data},c=i.app.options.adaptor,f=g.getAdaptorObj("POST",o,t.exports.getCombinedHeaders(i),a,null);return c.makeCall(f).then(function(e){return i.cls.ObjectCons(t.exports.getHeaders(i),{},{},e.entity.uid)})}function o(e,t){var n={application_user:h.assign(e,t).data};n=a(n);var r=u(t);return s("POST",r,n,t).then(function(e){return y.trigger("user:login"),e.app.setSession(e.toJSON()),e})}function s(e,n,r,i){var o=i.app.options.adaptor,s=g.getAdaptorObj(e,n,t.exports.getCombinedHeaders(i),r,null);return o.makeCall(s).then(function(e){return i.cls.ObjectCons(t.exports.getHeaders(i),{},e.entity.application_user,{})})}function a(e){return e.application_user.device_type=g.getDeviceTypeFromUA(),e}function u(t){var n,r=e(8),i=t.app;return n=f(t).uid?r.App.getURL(i)+x+"/"+f(t).uid:r.App.getURL(i)+x}function c(e){return e.app.getURL()+x+"/logout"}function f(e){return e.data}function p(e){return e.delta}function l(e,t){var n={};return n[e]=t,n}{var d=e(70),h=e(18),g=e(31),m=e(101),v=e(27)(),y=(e(22),e(11)),x="/application/users";t.exports=d.curry(function(e,n,i,o,s,a){var u=h(e,n,i,{},s,a);return u=v.build(t.exports,u),r(u),u})}g.copyProperties(t.exports,h),t.exports.login=d.curry(function(e,t,n){var r={email:e,password:t},i={application_user:h.assign(r,n).data};i=a(i);var o=n.app.getURL()+x+"/login";return s("POST",o,i,n).then(function(e){return y.trigger("user:login"),e.app.setSession(e.toJSON()),e})}),v.define("login",3),t.exports.logout=function(e){if(!e.app.isAuthenticated())throw new Error("User not logged in");var n=c(e),r=e.app.options.adaptor,i=g.getAdaptorObj("DELETE",n,t.exports.getCombinedHeaders(e),null,null);return r.makeCall(i).then(function(t){return y.trigger("user:logout"),e.app.clearSession(),null})},v.define("logout",1),t.exports.isAuthenticated=g.appProxyHelper("isAuthenticated"),t.exports.getSession=g.appProxyHelper("getSession"),t.exports.getCurrentUser=g.appProxyHelper("getSession"),t.exports.setSession=g.appProxyHelper("setSession"),t.exports.clearSession=g.appProxyHelper("clearSession"),t.exports.generateAuthtoken=g.appProxyHelper("generateAuthtoken"),t.exports.anyAuth=g.appProxyHelper("anyAuth"),t.exports.activate=d.curry(function(e,n){if(!p(n).uid)throw new Error("Uid not found");var r=u(n)+"/activate/"+e,i=n.app.options.adaptor,o=g.getAdaptorObj("GET",r,t.exports.getCombinedHeaders(n),null,null);return i.makeCall(o).then(function(e){return y.trigger("user:activate",e.entity),null})}),v.define("activate",2),t.exports.deactivate=d.curry(function(e){if(!e.getHeaders().authtoken)throw new Error("Authentication token not found in headers");if(!f(e).uid)throw new Error("Uid not found");var n=u(e),r=e.app.options.adaptor,i=g.getAdaptorObj("DELETE",n,t.exports.getCombinedHeaders(e),null,null);return r.makeCall(i).then(function(e){return y.trigger("user:deactivate",e.entity),null})}),v.define("deactivate",1),t.exports.fetchUserUidByEmail=d.curry(function(e,n){if(!e)throw new Error("Email not found");var r=u(n)+"/retrieve_user_uid",i={email:e},o={application_user:h.assign(i,n).data},s=n.app.options.adaptor,a=g.getAdaptorObj("POST",r,t.exports.getCombinedHeaders(n),o,null);return s.makeCall(a).then(function(e){return n.cls.ObjectCons(t.exports.getHeaders(n),{},{},e.entity.uid)})}),v.define("fetchUserUidByEmail",2),t.exports.fetchUserUidByFacebookUserId=d.curry(function(e,t){if(!e)throw new Error("User id not found");return i("facebook","user_id",e,t)}),v.define("fetchUserUidByFacebookUserId",2),t.exports.fetchUserUidByGoogleEmail=d.curry(function(e,t){if(!e)throw new Error("Email address not found");return i("google","email",e,t)}),v.define("fetchUserUidByGoogleEmail",2),t.exports.fetchUserUidByTwitterUserId=d.curry(function(e,t){if(!e)throw new Error("User_id not found");return i("twitter","user_id",e,t)}),v.define("fetchUserUidByTwitterUserId",2),t.exports.register=d.curry(function(e,t,n,r,i){var o={email:e,password:t,password_confirmation:n};o=d.mixin(r,o);var c={application_user:h.assign(o,i).data};return c=a(c),s("POST",u(i),c,i).then(function(e){return y.trigger("user:register",e),e})}),v.define("register",5,[{}]),t.exports.forgotPassword=d.curry(function(e,n){var r=n.app.options.adaptor,i={email:e},o={application_user:h.assign(i,n).data},s=u(n)+"/forgot_password/request_password_reset",a=g.getAdaptorObj("POST",s,t.exports.getCombinedHeaders(n),o,null);return r.makeCall(a).then(function(e){return null})}),v.define("forgotPassword",2),t.exports.resetPassword=d.curry(function(e,n,r,i){var o=i.app.options.adaptor,s={reset_password_token:r,password:e,password_confirmation:n},a={application_user:h.assign(s,i).data},c=u(i)+"/forgot_password/reset_password",f=g.getAdaptorObj("POST",c,t.exports.getCombinedHeaders(i),a,null);return o.makeCall(f).then(function(e){return null})}),v.define("resetPassword",4),t.exports.updateUserProfile=d.curry(function(e,n){var r={application_user:e};if(!n.get("uid"))return m.reject(new Error("Uid not found"));var i=u(n),o=n.app.options.adaptor,s=g.getAdaptorObj("PUT",i,t.exports.getCombinedHeaders(n),r,null);return o.makeCall(s).then(function(e){var r=n.cls.ObjectCons(t.exports.getHeaders(n),{},d.mixin({authtoken:n.app.getAuthToken()},e.entity.application_user),{});return r=r.set("authtoken",n.app.getAuthToken()),r.app.setSession(r.toJSON()),r})}),v.define("updateUserProfile",2),t.exports.loginWithGoogle=d.curry(function(e,t){var n={auth_data:{google:{access_token:e}}};return o(n,t)}),v.define("loginWithGoogle",2),t.exports.loginWithFacebook=d.curry(function(e,t){var n={auth_data:{facebook:{access_token:e}}};return o(n,t)}),v.define("loginWithFacebook",2),t.exports.loginWithTwitter=d.curry(function(e,t,n,r,i){var s={auth_data:{twitter:{token:e,token_secret:t,consumer_key:n,consumer_secret:r}}};return o(s,i)}),v.define("loginWithTwitter",5)},{101:101,11:11,18:18,22:22,27:27,31:31,70:70,8:8}],27:[function(e,t,n){var r=e(70);t.exports=function(){var e=[];return{define:function(t,n,r){e.push({name:t,argsLength:n,defaultValues:r})},build:function(t,n){return e.forEach(function(e){if(1===e.argsLength)n[e.name]=function(){return t[e.name].apply(null,[n])};else{var i=r.curry(r.nAry(e.argsLength,function(){var n=Array.prototype.slice.call(arguments,1,arguments.length);return n.push(arguments[0]),t[e.name].apply(null,n)}));i=i(n),n[e.name]=e.defaultValues?function(){var t=Array.prototype.slice.call(arguments,0);return t=t.concat(e.defaultValues.slice(-(e.argsLength-arguments.length))),i.apply(null,t)}:i}}),n}}}},{70:70}],28:[function(e,t,n){var r=e(70);t.exports.Mixin=function(){var e={};return Array.prototype.forEach.call(arguments,function(t){e=t._isGroup||t._isGroupMultiple?r.mixin(e,t.toJSON()):r.mixin(e,t)}),e}},{70:70}],29:[function(e,t,n){(function(n){function r(e,t){function r(e,t,n){var r="--"+e+"\r\n";return r+='Content-Disposition: form-data; name="'+t+'"\r\n\r\n',r+=n+"\r\n"}function i(e,t,n,r){var i="--"+e+"\r\n";return i+='Content-Disposition: form-data; name="'+n+'"; filename="'+r+'"\r\n',i+="Content-Type: "+t+"\r\n\r\n"}var o=Math.random(),s=[];if(e)for(var a in e){var u=e[a];s.push(new n(r(o,a,u),"ascii"))}if(t)for(var a in t){var u=t[a];s.push(new n(i(o,u.contentType,u.keyName,u.fileName),"ascii")),s.push(new n(u.data,"utf8"))}s.push(new n("\r\n--"+o+"--"),"ascii");for(var c=0,f=0;f<s.length;f++)c+=s[f].length;var p={postdata:s,length:c,headers:{"Content-Type":"multipart/form-data; boundary="+o,"Content-Length":c}};return p}function i(e,t,n,i){var u=o.defer(),c=r(e,t),f=c.headers;for(var p in i)f[p]=i[p];var l={host:n.host,path:n.path,method:n.method||"POST",headers:f};a.trigger("upload:start");for(var d=s.request(l,function(e){e.body="",e.setEncoding&&e.setEncoding(n.encoding),e.on("data",function(t){e.body+=t}),e.on("end",function(){a.trigger("upload:end",JSON.parse(e.body)),u.resolve(e.body)}),e.on("error",function(){u.reject(e)})}),h=0;h<c.postdata.length;h++)d.write(c.postdata[h]);return d.end(),u.promise}{var o=e(101),s=e(45),a=e(11);e(34)}t.exports={getFormDataForPost:r,postData:i}}).call(this,e(36).Buffer)},{101:101,11:11,34:34,36:36,45:45}],30:[function(e,t,n){function r(){var e=u.type();return e.match(/windows/i)?"windows":e.match(/darwin/i)?"macintosh":e}function i(e,t){var n=e+"_"+d,r=p.get(n)||l.get(n);if(r)return r;t=t||16;var r="blt"+s(2*t,"0123456789abcde");try{p.set(n,r)}catch(i){console.warn("Analytics blt_uuid is stored in cookie as localStorage wasn't avaliable"),l.set(n,r)}return r}function o(e,t){return h[e]?h[e]:(t=t||16,h[e]="blt"+s(2*t,"0123456789abcde"),h[e])}function s(e,t){for(var n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}var a=e(84),u=e(48),c=e(31),f=e(32).version,p=e(23),l=e(22),d="blt_uuid",h={};t.exports.generateUserMetrics=function(e,t){var n=16;if(""===t&&(t="anonymous"),c.isBrowser()){var s=navigator.userAgent,p=(new a).setUA(s).getResult(),l=window.screen?window.screen.height:"unknown",d=window.screen?window.screen.width:"unknown",h="browser|"+p.browser.name+"|"+p.browser.version;return p.device.model&&("WebKit"===p.device.model&&(p.device.model="WebView"),h=p.device.model+"|"+h),{blt_uuid:i(e,n),app_user_object_uid:t,blt_os:p.os.name,blt_screen_width:d,blt_sdk_version:f,blt_screen_height:l,blt_os_version:p.os.version,blt_sdk:"JavaScript",blt_device:h}}var g=r();return{blt_uuid:o(e,n),app_user_object_uid:t,blt_sdk:"JavaScript",blt_sdk_version:f,blt_os:g,blt_os_version:u.release(),blt_device:"nodejs"}},t.exports.getUUIDForAPI=function(e){if(c.isBrowser()){var t=e+"_"+d;return p.get(t)||l.get(t)}return h[e]}},{22:22,23:23,31:31,32:32,48:48,84:84}],31:[function(e,t,n){t.exports.appProxyHelper=function(e){return function(t){return function(){return t[e].apply(t,arguments)}}},t.exports.copyProperties=function(e,t){for(method in t)e[method]=t[method]},t.exports.getAdaptorObj=function(e,t,n,r,i){if(!e)throw new Error("Http method is not specified");if(!t)throw new Error("Path for http request not specified");if(!n)throw new Error("Headers for http request not specified");var o={};return o.path=t,o.headers=n,o.method=e,r&&(o.entity=r),i&&(o.params=i),o},t.exports.wrapper=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return n=n.concat(t.slice(-(e.length-arguments.length))),e.apply(this,n)}},t.exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.exports.isNumber=function(e){return"number"==typeof e},t.exports.isBoolean=function(e){return"boolean"==typeof e},t.exports.isString=function(e){return"string"==typeof e},t.exports.isQueryInstance=function(e){return!!e.where},t.exports.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},t.exports.isObject=function(e){return"object"==typeof e},t.exports.isBrowser=function(){return!("undefined"==typeof window||!window.document)},t.exports.isLocalStroageAvaliable=function(){return!("undefined"==typeof localStorage)},t.exports.isEmpty=function(e){return e?0===Object.keys(e).length:void 0},t.exports.keyValue=function(){for(var e=null,t={},n=0;n<arguments.length;n++){var r=arguments[n];n%2===0?e=r:t[e]=r}return t},t.exports.backboneExist=function(){return!("undefined"==typeof Backbone||!Backbone.Model||!Backbone.Collection)},t.exports.supportsFormData=function(){return!("object"!=typeof window||"undefined"==typeof window.FormData)};var r=t.exports.encodeParam=function(e,n){return t.exports.isObject(n[e])?e+"="+encodeURIComponent(JSON.stringify(n[e])):e+"="+n[e]};t.exports.addParam=function(e,t,n){return e+=e.indexOf("?")>=0?"&"+r(t,n):"?"+r(t,n)},t.exports.findAndRemove=function(e,t){var n=t.indexOf(e);return n>=-1?t.splice(n,1):t},t.exports.getDeviceTypeFromUA=function(){if(t.exports.isBrowser()){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)?"ios":e.match(/Android/i)?"android":"other"}return"other"},t.exports.createNestedObject=function(e,t,n){for(var r=3===arguments.length?t.pop():!1,i=0;i<t.length;i++)e=e[t[i]]=e[t[i]]||{};return r&&(e=e[r]=n),e}},{}],32:[function(e,t,n){t.exports={name:"built.io",description:"SDK for Built.io Backend",license:"MIT",author:"Built.io Backend",version:"2.1.6",dependencies:{when:"3.4.3",rest:"1.1.1",ramda:"0.8.0",mime:"1.2.11","blueimp-md5":"1.1.0","ua-parser-js":"0.7.3","socket.io-client":"1.2.1"},devDependencies:{browserify:"^8.1.1","bundle-collapser":"^1.2.1",chai:"^1.9.2","chai-as-promised":"^4.1.1",gulp:"*","gulp-add-src":"^0.2.0","gulp-buffer":"0.0.2","gulp-clean":"^0.3.1","gulp-cog":"^0.1.2","gulp-concat":"^2.4.2","gulp-json-editor":"^2.2.1","gulp-load-plugins":"^0.7.1","gulp-replace":"*","gulp-rimraf":"^0.1.1","gulp-run":"^1.6.4","gulp-shell":"^0.2.10","gulp-uglify":"^1.0.1","gulp-unpathify":"^0.1.1","gulp-zip":"^2.0.2",gutil:"*","jaguarjs-jsdoc":"0.0.1",jsdoc:"*",mocha:"*",nock:"*",rimraf:"^2.2.8","run-sequence":"^1.0.2",semver:"^4.1.0","socket.io":"*","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0"},keywords:["built","backend","baas","mbaas","sdk","javascript"],scripts:{generateDocsForWRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsWRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_WRT.md",generateDocsForRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_RT.md"},main:"./lib/built"}},{}],33:[function(e,t,n){!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,s,a){return t(n(t(t(r,e),t(o,a)),s),i)}function i(e,t,n,i,o,s,a){return r(t&n|~t&i,e,t,o,s,a)}function o(e,t,n,i,o,s,a){return r(t&i|n&~i,e,t,o,s,a)}function s(e,t,n,i,o,s,a){return r(t^n^i,e,t,o,s,a)}function a(e,t,n,i,o,s,a){return r(n^(t|~i),e,t,o,s,a)}function u(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var r,u,c,f,p,l=1732584193,d=-271733879,h=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)u=l,c=d,f=h,p=g,l=i(l,d,h,g,e[r],7,-680876936),g=i(g,l,d,h,e[r+1],12,-389564586),h=i(h,g,l,d,e[r+2],17,606105819),d=i(d,h,g,l,e[r+3],22,-1044525330),l=i(l,d,h,g,e[r+4],7,-176418897),g=i(g,l,d,h,e[r+5],12,1200080426),h=i(h,g,l,d,e[r+6],17,-1473231341),d=i(d,h,g,l,e[r+7],22,-45705983),l=i(l,d,h,g,e[r+8],7,1770035416),g=i(g,l,d,h,e[r+9],12,-1958414417),h=i(h,g,l,d,e[r+10],17,-42063),d=i(d,h,g,l,e[r+11],22,-1990404162),l=i(l,d,h,g,e[r+12],7,1804603682),g=i(g,l,d,h,e[r+13],12,-40341101),h=i(h,g,l,d,e[r+14],17,-1502002290),d=i(d,h,g,l,e[r+15],22,1236535329),l=o(l,d,h,g,e[r+1],5,-165796510),g=o(g,l,d,h,e[r+6],9,-1069501632),h=o(h,g,l,d,e[r+11],14,643717713),d=o(d,h,g,l,e[r],20,-373897302),l=o(l,d,h,g,e[r+5],5,-701558691),g=o(g,l,d,h,e[r+10],9,38016083),h=o(h,g,l,d,e[r+15],14,-660478335),d=o(d,h,g,l,e[r+4],20,-405537848),l=o(l,d,h,g,e[r+9],5,568446438),g=o(g,l,d,h,e[r+14],9,-1019803690),h=o(h,g,l,d,e[r+3],14,-187363961),d=o(d,h,g,l,e[r+8],20,1163531501),l=o(l,d,h,g,e[r+13],5,-1444681467),g=o(g,l,d,h,e[r+2],9,-51403784),h=o(h,g,l,d,e[r+7],14,1735328473),d=o(d,h,g,l,e[r+12],20,-1926607734),l=s(l,d,h,g,e[r+5],4,-378558),g=s(g,l,d,h,e[r+8],11,-2022574463),h=s(h,g,l,d,e[r+11],16,1839030562),d=s(d,h,g,l,e[r+14],23,-35309556),l=s(l,d,h,g,e[r+1],4,-1530992060),g=s(g,l,d,h,e[r+4],11,1272893353),h=s(h,g,l,d,e[r+7],16,-155497632),d=s(d,h,g,l,e[r+10],23,-1094730640),l=s(l,d,h,g,e[r+13],4,681279174),g=s(g,l,d,h,e[r],11,-358537222),h=s(h,g,l,d,e[r+3],16,-722521979),d=s(d,h,g,l,e[r+6],23,76029189),l=s(l,d,h,g,e[r+9],4,-640364487),g=s(g,l,d,h,e[r+12],11,-421815835),h=s(h,g,l,d,e[r+15],16,530742520),d=s(d,h,g,l,e[r+2],23,-995338651),l=a(l,d,h,g,e[r],6,-198630844),g=a(g,l,d,h,e[r+7],10,1126891415),h=a(h,g,l,d,e[r+14],15,-1416354905),d=a(d,h,g,l,e[r+5],21,-57434055),l=a(l,d,h,g,e[r+12],6,1700485571),g=a(g,l,d,h,e[r+3],10,-1894986606),h=a(h,g,l,d,e[r+10],15,-1051523),d=a(d,h,g,l,e[r+1],21,-2054922799),l=a(l,d,h,g,e[r+8],6,1873313359),g=a(g,l,d,h,e[r+15],10,-30611744),h=a(h,g,l,d,e[r+6],15,-1560198380),d=a(d,h,g,l,e[r+13],21,1309151649),l=a(l,d,h,g,e[r+4],6,-145523070),g=a(g,l,d,h,e[r+11],10,-1120210379),h=a(h,g,l,d,e[r+2],15,718787259),d=a(d,h,g,l,e[r+9],21,-343485551),l=t(l,u),d=t(d,c),h=t(h,f),g=t(g,p);return[l,d,h,g]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){return c(u(f(e),8*e.length))}function l(e,t){var n,r,i=f(e),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=u(o.concat(f(t)),512+8*t.length),c(u(s.concat(r),640))}function d(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function h(e){return unescape(encodeURIComponent(e))}function g(e){return p(h(e))}function m(e){return d(g(e))}function v(e,t){return l(h(e),h(t))}function y(e,t){return d(v(e,t))}function x(e,t,n){return t?n?v(t,e):y(t,e):n?g(e):m(e)}"function"==typeof define&&define.amd?define(function(){return x}):e.md5=x}(this)},{}],34:[function(e,t,n){},{}],35:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{34:34}],36:[function(e,t,n){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof e?o(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):a(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function o(e,t){if(e=h(e,0>t?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(t,n);return e=h(e,r),e.write(t,n),e}function a(e,t){if(i.isBuffer(t))return u(e,t);if(Y(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return p(e,t)}return t.length?l(e,t):d(e,t)}function u(e,t){var n=0|g(t.length);return e=h(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|g(t.length);e=h(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n=0|g(t.length);e=h(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t){return i.TYPED_ARRAY_SUPPORT?(t.byteLength,e=i._augment(new Uint8Array(t))):e=f(e,new Uint8Array(t)),e}function l(e,t){var n=0|g(t.length);e=h(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function d(e,t){var n,r=0;"Buffer"===t.type&&Y(t.data)&&(n=t.data,r=0|g(n.length)),e=h(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function h(e,t){i.TYPED_ARRAY_SUPPORT?e=i._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=Q),e}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e,t){if(!(this instanceof m))return new m(e,t);var n=new i(e,t);return delete n.parent,n}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return C(this,t,n);case"binary":return k(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");

e[n+s]=a}return s}function w(e,t,n,r){return W(q(t,e.length-n),e,n,r)}function b(e,t,n,r){return W(F(t),e,n,r)}function A(e,t,n,r){return b(e,t,n,r)}function E(e,t,n,r){return W(z(t),e,n,r)}function S(e,t,n,r){return W(J(t,e.length-n),e,n,r)}function _(e,t,n){return K.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function O(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(r+=V(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+V(i)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function U(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=H(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function T(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function I(e,t,n,r,i){return i||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return i||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(e,t,n,r,52,8),n+8}function B(e){if(e=D(e).replace(X,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function D(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;r>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((t-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function z(e){return K.toByteArray(B(e))}function W(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function V(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var K=e(37),G=e(38),Y=e(39);n.Buffer=i,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var Q={};i.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);s>o&&e[o]===t[o];)++o;return o!==s&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Y(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.byteLength=v,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return b(this,e,t,n);case"binary":return A(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},i.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),G.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),G.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),G.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),G.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||P(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||P(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):T(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):L(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):L(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0>e?1:0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):T(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||P(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):L(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,s=r-n;if(this===e&&t>n&&r>t)for(o=s-1;o>=0;o--)e[o+t]=this[o+n];else if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+s),t);return s},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=q(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=$.get,e.set=$.set,e.write=$.write,e.toString=$.toString,e.toLocaleString=$.toString,e.toJSON=$.toJSON,e.equals=$.equals,e.compare=$.compare,e.indexOf=$.indexOf,e.copy=$.copy,e.slice=$.slice,e.readUIntLE=$.readUIntLE,e.readUIntBE=$.readUIntBE,e.readUInt8=$.readUInt8,e.readUInt16LE=$.readUInt16LE,e.readUInt16BE=$.readUInt16BE,e.readUInt32LE=$.readUInt32LE,e.readUInt32BE=$.readUInt32BE,e.readIntLE=$.readIntLE,e.readIntBE=$.readIntBE,e.readInt8=$.readInt8,e.readInt16LE=$.readInt16LE,e.readInt16BE=$.readInt16BE,e.readInt32LE=$.readInt32LE,e.readInt32BE=$.readInt32BE,e.readFloatLE=$.readFloatLE,e.readFloatBE=$.readFloatBE,e.readDoubleLE=$.readDoubleLE,e.readDoubleBE=$.readDoubleBE,e.writeUInt8=$.writeUInt8,e.writeUIntLE=$.writeUIntLE,e.writeUIntBE=$.writeUIntBE,e.writeUInt16LE=$.writeUInt16LE,e.writeUInt16BE=$.writeUInt16BE,e.writeUInt32LE=$.writeUInt32LE,e.writeUInt32BE=$.writeUInt32BE,e.writeIntLE=$.writeIntLE,e.writeIntBE=$.writeIntBE,e.writeInt8=$.writeInt8,e.writeInt16LE=$.writeInt16LE,e.writeInt16BE=$.writeInt16BE,e.writeInt32LE=$.writeInt32LE,e.writeInt32BE=$.writeInt32BE,e.writeFloatLE=$.writeFloatLE,e.writeFloatBE=$.writeFloatBE,e.writeDoubleLE=$.writeDoubleLE,e.writeDoubleBE=$.writeDoubleBE,e.fill=$.fill,e.inspect=$.inspect,e.toArrayBuffer=$.toArrayBuffer,e};var X=/[^+\/0-9A-Za-z-_]/g},{37:37,38:38,39:39}],37:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===p?62:t===a||t===l?63:u>t?-1:u+10>t?t-u+26+26:f+26>t?t-f:c+26>t?t-c+26:void 0}function n(e){function n(e){c[p++]=e}var r,i,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;u="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,c=new o(3*e.length/4-u),s=u>0?e.length-4:e.length;var p=0;for(r=0,i=0;s>r;r+=4,i+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===u&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,s,a=e.length%3,u="";for(i=0,s=e.length-a;s>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(a){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),p="-".charCodeAt(0),l="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],38:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,p=n?i-1:0,l=n?-1:1,d=e[t+p];for(p+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+p],p+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+p],p+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:(d?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,p=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+p>=1?l/u:l*Math.pow(2,1-p),t*u>=2&&(s++,u/=2),s+p>=f?(a=0,s=f):s+p>=1?(a=(t*u-1)*Math.pow(2,i),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=h,s/=256,c-=8);e[n+d-h]|=128*g}},{}],39:[function(e,t,n){var r=Array.isArray,i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],40:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],41:[function(e,t,n){var r=t.exports,i=(e(40).EventEmitter,e(42)),o=e(67);r.request=function(e,t){"string"==typeof e&&(e=o.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.protocol=e.scheme?e.scheme+":":window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var n=new i(new s,e);return t&&n.on("response",t),n},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var s=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{40:40,42:42,67:67}],42:[function(e,t,n){var r=e(65),i=e(43),o=e(44),s=e(46),a=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(r){}if(t.responseType)try{e.responseType=t.responseType}catch(r){}if(e.open(t.method||"GET",n.uri,!0),e.onerror=function(e){n.emit("error",new Error("Network error"))},n._headers={},t.headers)for(var s=u(t.headers),a=0;a<s.length;a++){var c=s[a];if(n.isSafeRequestHeader(c)){var f=t.headers[c];n.setHeader(c,f)}}t.auth&&this.setHeader("Authorization","Basic "+o.btoa(t.auth));var p=new i;p.on("close",function(){n.emit("close")}),p.on("ready",function(){n.emit("response",p)}),p.on("error",function(e){n.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||p.handle(e)}};s(a,r),a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},a.prototype.write=function(e){this.body.push(e)},a.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},a.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=u(this._headers),n=0;n<t.length;n++){var r=t[n],i=this._headers[r];if(c(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(c(this.body[0])){for(var s=[],n=0;n<this.body.length;n++)s.push.apply(s,this.body[n]);this.xhr.send(s)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var a=0,n=0;n<this.body.length;n++)a+=this.body[n].length;for(var s=new this.body[0].constructor(a),f=0,n=0;n<this.body.length;n++)for(var l=this.body[n],o=0;o<l.length;o++)s[f++]=l[o];this.xhr.send(s)}else if(p(this.body[0]))this.xhr.send(this.body[0]);else{for(var s="",n=0;n<this.body.length;n++)s+=this.body[n].toString();this.xhr.send(s)}},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?-1===f(a.unsafeHeaders,e.toLowerCase()):!1};var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},p=function(e){return"undefined"!=typeof Blob&&e instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&e instanceof FormData?!0:void 0}},{43:43,44:44,46:46,65:65}],43:[function(e,t,n){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var i=t[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var s=o[1].toLowerCase(),a=o[2];void 0!==n[s]?u(n[s])?n[s].push(a):n[s]=[n[s],a]:n[s]=a}else n[i]=!0}}return n}var i=e(65),o=e(69),s=t.exports=function(e){this.offset=0,this.readable=!0};o.inherits(s,i);var a={streaming:!0,status2:!0};s.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},s.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},s.prototype.handle=function(e){if(2===e.readyState&&a.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){a.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},s.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{65:65,69:69}],44:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,o=0,s=r,a="";t.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&n>>8-o%1*8)){if(i=t.charCodeAt(o+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return a}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return a})}()},{}],45:[function(e,t,n){var r=e(41),i=t.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(e,t){return e||(e={}),e.scheme="https",r.request.call(this,e,t)}},{41:41}],46:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],47:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],48:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],49:[function(e,t,n){function r(){if(!a){a=!0;for(var e,t=s.length;t;){e=s,s=[];for(var n=-1;++n<t;)e[n]();t=s.length}a=!1}}function i(){}var o=t.exports={},s=[],a=!1;o.nextTick=function(e){s.push(e),a||setTimeout(r,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],50:[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(T[e])}function o(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return o(e.split(P),t).join(".")}function a(e){for(var t,n,r=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function u(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=I(e>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:A}function f(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?N(e/O):e>>1,e+=N(e/t);e>L*S>>1;r+=A)e=N(e/L);return N(r+(L+1)*e/(e+_))}function l(e){var t,n,r,o,s,a,f,l,d,h,g=[],m=e.length,v=0,y=k,x=C;for(n=e.lastIndexOf(U),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;m>o;){for(s=v,a=1,f=A;o>=m&&i("invalid-input"),l=c(e.charCodeAt(o++)),(l>=A||l>N((b-v)/a))&&i("overflow"),v+=l*a,d=x>=f?E:f>=x+S?S:f-x,!(d>l);f+=A)h=A-d,a>N(b/h)&&i("overflow"),a*=h;t=g.length+1,x=p(v-s,t,0==s),N(v/t)>b-y&&i("overflow"),y+=N(v/t),v%=t,g.splice(v++,0,y)}return u(g)}function d(e){var t,n,r,o,s,u,c,l,d,h,g,m,v,y,x,w=[];for(e=a(e),m=e.length,t=k,n=0,s=C,u=0;m>u;++u)g=e[u],128>g&&w.push(I(g));for(r=o=w.length,o&&w.push(U);m>r;){for(c=b,
u=0;m>u;++u)g=e[u],g>=t&&c>g&&(c=g);for(v=r+1,c-t>N((b-n)/v)&&i("overflow"),n+=(c-t)*v,t=c,u=0;m>u;++u)if(g=e[u],t>g&&++n>b&&i("overflow"),g==t){for(l=n,d=A;h=s>=d?E:d>=s+S?S:d-s,!(h>l);d+=A)x=l-h,y=A-h,w.push(I(f(h+x%y,0))),l=N(x/y);w.push(I(f(l,0))),s=p(n,v,r==o),n=0,++r}++n,++t}return w.join("")}function h(e){return s(e,function(e){return j.test(e)?l(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return R.test(e)?"xn--"+d(e):e})}var m="object"==typeof n&&n,v="object"==typeof t&&t&&t.exports==m&&t,y="object"==typeof e&&e;(y.global===y||y.window===y)&&(r=y);var x,w,b=2147483647,A=36,E=1,S=26,_=38,O=700,C=72,k=128,U="-",j=/^xn--/,R=/[^ -~]/,P=/\x2E|\u3002|\uFF0E|\uFF61/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=A-E,N=Math.floor,I=String.fromCharCode;if(x={version:"1.2.4",ucs2:{decode:a,encode:u},decode:l,encode:d,toASCII:g,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return x});else if(m&&!m.nodeType)if(v)v.exports=x;else for(w in x)x.hasOwnProperty(w)&&(m[w]=x[w]);else r.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;c>f;++f){var p,l,d,h,g=e[f].replace(a,"%20"),m=g.indexOf(n);m>=0?(p=g.substr(0,m),l=g.substr(m+1)):(p=g,l=""),d=decodeURIComponent(p),h=decodeURIComponent(l),r(s,d)?i(s[d])?s[d].push(h):s[d]=[s[d],h]:s[d]=h}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],52:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(s(e),function(s){var a=encodeURIComponent(i(s))+n;return o(e[s])?r(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],53:[function(e,t,n){"use strict";n.decode=n.parse=e(51),n.encode=n.stringify=e(52)},{51:51,52:52}],54:[function(e,t,n){t.exports=e(55)},{55:55}],55:[function(e,t,n){(function(n){function r(e){return this instanceof r?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}t.exports=r;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e(60);a.inherits=e(46);var u=e(57),c=e(59);a.inherits(r,u),o(s(c.prototype),function(e){r.prototype[e]||(r.prototype[e]=c.prototype[e])})}).call(this,e(49))},{46:46,49:49,57:57,59:59,60:60}],56:[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e(58),o=e(60);o.inherits=e(46),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{46:46,58:58,60:60}],57:[function(e,t,n){(function(n){function r(t,n){var r=e(55);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(k||(k=e(66).StringDecoder),this.decoder=new k(t.encoding),this.encoding=t.encoding)}function i(t){e(55);return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void O.call(this)):new i(t)}function o(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(C.isNullOrUndefined(n))t.reading=!1,t.ended||f(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&p(e)),d(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=j)e=j;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||C.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return C.isBuffer(t)||C.isString(t)||C.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,p(e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(U("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){l(e)}):l(e))}function l(e){U("emit readable"),e.emit("readable"),y(e)}function d(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){h(e,t)}))}function h(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(U("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;U("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&_.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function m(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){v(e,t)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(U("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function x(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new S(e);for(var u=0,c=0,f=r.length;f>c&&e>u;c++){var a=r[0],p=Math.min(e-u,a.length);o?n+=a.slice(0,p):a.copy(n,u,0,p),p<a.length?r[0]=a.slice(p):r.shift(),u+=p}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function b(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function A(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i;var E=e(47),S=e(36).Buffer;i.ReadableState=r;var _=e(40).EventEmitter;_.listenerCount||(_.listenerCount=function(e,t){return e.listeners(t).length});var O=e(65),C=e(60);C.inherits=e(46);var k,U=e(35);U=U&&U.debuglog?U.debuglog("stream"):function(){},C.inherits(i,O),i.prototype.push=function(e,t){var n=this._readableState;return C.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){return k||(k=e(66).StringDecoder),this._readableState.decoder=new k(t),this._readableState.encoding=t,this};var j=8388608;i.prototype.read=function(e){U("read",e);var t=this._readableState,n=e;if((!C.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return U("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):p(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;U("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,U("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,U("reading or ended",r)),r&&(U("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?x(e,t):null,C.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),C.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){U("onunpipe"),e===p&&o()}function i(){U("onend"),e.end()}function o(){U("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",m),e.removeListener("error",a),e.removeListener("unpipe",r),p.removeListener("end",i),p.removeListener("end",o),p.removeListener("data",s),!l.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function s(t){U("ondata");var n=e.write(t);!1===n&&(U("false write response, pause",p._readableState.awaitDrain),p._readableState.awaitDrain++,p.pause())}function a(t){U("onerror",t),f(),e.removeListener("error",a),0===_.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),f()}function c(){U("onfinish"),e.removeListener("close",u),f()}function f(){U("unpipe"),p.unpipe(e)}var p=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=e;break;case 1:l.pipes=[l.pipes,e];break;default:l.pipes.push(e)}l.pipesCount+=1,U("pipe count=%d opts=%j",l.pipesCount,t);var d=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,h=d?i:o;l.endEmitted?n.nextTick(h):p.once("end",h),e.on("unpipe",r);var m=g(p);return e.on("drain",m),p.on("data",s),e._events&&e._events.error?E(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",p),l.flowing||(U("pipe resume"),p.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=A(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=O.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&p(this,i);else{var o=this;n.nextTick(function(){U("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(U("resume"),e.flowing=!0,e.reading||(U("resume read 0"),this.read(0)),m(this,e)),this},i.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(U("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(U("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)C.isFunction(e[i])&&C.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return b(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){U("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=x}).call(this,e(49))},{35:35,36:36,40:40,46:46,47:47,49:49,55:55,60:60,65:65,66:66}],58:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e(55),u=e(60);u.inherits=e(46),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;u.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},{46:46,55:55,60:60}],59:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e(55);t=t||{};var i=t.highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e(55);return this instanceof o||this instanceof n?(this._writableState=new i(t,this),this.writable=!0,void E.call(this)):new o(t)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(A.isBuffer(r)||A.isString(r)||A.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&A.isString(t)&&(t=new b(t,n)),t}function c(e,t,n,i,o){n=u(t,n,i),A.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):f(e,t,!1,s,n,i,o),a}function f(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function p(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function l(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(l(r),t)p(e,r,i,t,o);else{var s=v(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||m(e,r),i?n.nextTick(function(){h(e,r,s,o)}):h(e,r,s,o)}}function h(e,t,n,r){n||g(e,t),t.pendingcb--,r(),x(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,f(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(f(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function x(e,t){var n=v(e,t);return n&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),n}function w(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var b=e(36).Buffer;o.WritableState=i;var A=e(60);A.inherits=e(46);var E=e(65);A.inherits(o,E),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return A.isFunction(t)&&(n=t,t=null),A.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),A.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,e,n)&&(r.pendingcb++,i=c(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||m(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;A.isFunction(e)?(n=e,e=null,t=null):A.isFunction(t)&&(n=t,t=null),A.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,e(49))},{36:36,46:46,49:49,55:55,60:60,65:65}],60:[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function f(e){return p(e)&&"[object RegExp]"===v(e)}function p(e){return"object"==typeof e&&null!==e}function l(e){return p(e)&&"[object Date]"===v(e)}function d(e){return p(e)&&("[object Error]"===v(e)||e instanceof Error)}function h(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=f,n.isObject=p,n.isDate=l,n.isError=d,n.isFunction=h,n.isPrimitive=g,n.isBuffer=m}).call(this,e(36).Buffer)},{36:36}],61:[function(e,t,n){t.exports=e(56)},{56:56}],62:[function(e,t,n){n=t.exports=e(57),n.Stream=e(65),n.Readable=n,n.Writable=e(59),n.Duplex=e(55),n.Transform=e(58),n.PassThrough=e(56)},{55:55,56:56,57:57,58:58,59:59,65:65}],63:[function(e,t,n){t.exports=e(58)},{58:58}],64:[function(e,t,n){t.exports=e(59)},{59:59}],65:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e(40).EventEmitter,o=e(46);o(r,i),r.Readable=e(62),r.Writable=e(64),r.Duplex=e(54),r.Transform=e(63),r.PassThrough=e(61),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){f||(f=!0,e.end())}function s(){f||(f=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var f=!1;return c.on("error",a),e.on("error",a),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{40:40,46:46,54:54,61:61,62:62,63:63,64:64}],66:[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e(36).Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{36:36}],67:[function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function f(e){return null===e}function p(e){return null==e}var l=e(50);n.parse=i,n.resolve=s,n.resolveObject=a,n.format=o,n.Url=r;var d=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(g),v=["'"].concat(m),y=["%","/","?",";","#"].concat(v),x=["/","?","#"],w=255,b=/^[a-z0-9A-Z_-]{0,63}$/,A=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=e(53);r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=d.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(s||i&&!_[i])){for(var a=-1,c=0;c<x.length;c++){var f=r.indexOf(x[c]);-1!==f&&(-1===a||a>f)&&(a=f)}var p,h;h=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==h&&(p=r.slice(0,h),r=r.slice(h+1),this.auth=decodeURIComponent(p)),a=-1;for(var c=0;c<y.length;c++){var f=r.indexOf(y[c]);-1!==f&&(-1===a||a>f)&&(a=f)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),c=0,C=m.length;C>c;c++){var k=m[c];if(k&&!k.match(b)){for(var U="",j=0,R=k.length;R>j;j++)U+=k.charCodeAt(j)>127?"x":k[j];if(!U.match(b)){var P=m.slice(0,c),T=m.slice(c+1),L=k.match(A);L&&(P.push(L[1]),T.unshift(L[2])),T.length&&(r="/"+T.join(".")+r),this.hostname=P.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!g){for(var N=this.hostname.split("."),I=[],c=0;c<N.length;++c){var M=N[c];I.push(M.match(/[^A-Za-z0-9_-]/)?"xn--"+l.encode(M):M)}this.hostname=I.join(".")}var B=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+B,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[o])for(var c=0,C=v.length;C>c;c++){var H=v[c],q=encodeURIComponent(H);q===H&&(q=escape(H)),r=r.split(H).join(q)}var F=r.indexOf("#");-1!==F&&(this.hash=r.substr(F),r=r.slice(0,F));var J=r.indexOf("?");if(-1!==J?(this.search=r.substr(J),this.query=r.substr(J+1),t&&(this.query=O.parse(this.query)),r=r.slice(0,J)):t&&(this.search="",this.query={}),r&&(this.pathname=r),_[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",M=this.search||"";this.path=B+M}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=O.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),l=c||a||n.host&&e.pathname,d=l,h=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],g=n.protocol&&!_[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),l=l&&(""===i[0]||""===h[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=i;else if(i.length)h||(h=[]),h.pop(),h=h.concat(i),n.search=e.search,n.query=e.query;else if(!p(e.search)){if(g){n.hostname=n.host=h.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var v=h.slice(-1)[0],y=(n.host||e.host)&&("."===v||".."===v)||""===v,x=0,w=h.length;w>=0;w--)v=h[w],"."==v?h.splice(w,1):".."===v?(h.splice(w,1),x++):x&&(h.splice(w,1),x--);if(!l&&!d)for(;x--;x)h.unshift("..");!l||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),y&&"/"!==h.join("/").substr(-1)&&h.push("");var b=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(g){n.hostname=n.host=b?"":h.length?h.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return l=l||n.host&&h.length,l&&!b&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{50:50,53:53}],68:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],69:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return x(i)||(i=u(e,i,r)),i}var o=c(e,t);if(o)return o;var s=Object.keys(t),g=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),_(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(O(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(A(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return f(t)}var v="",y=!1,w=["{","}"];

if(h(t)&&(y=!0,w=["[","]"]),O(t)){var b=t.name?": "+t.name:"";v=" [Function"+b+"]"}if(A(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),_(t)&&(v=" "+f(t)),0===s.length&&(!y||0==t.length))return w[0]+v+w[1];if(0>r)return A(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=y?p(e,t,r,g,s):s.map(function(n){return l(e,t,r,g,n,y)}),e.seen.pop(),d(E,v,w)}function c(e,t){if(b(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,a=t.length;a>s;++s)o.push(R(t,String(s))?l(e,t,n,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(e,t,n,r,i,!0))}),o}function l(e,t,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?u(e,c.value,null):u(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function x(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function b(e){return void 0===e}function A(e){return E(e)&&"[object RegExp]"===k(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===k(e)}function _(e){return E(e)&&("[object Error]"===k(e)||e instanceof Error)}function O(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function k(e){return Object.prototype.toString.call(e)}function U(e){return 10>e?"0"+e.toString(10):e.toString(10)}function j(){var e=new Date,t=[U(e.getHours()),U(e.getMinutes()),U(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;n.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];o>n;a=r[++n])s+=m(a)||!E(a)?" "+a:" "+i(a);return s},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var T,L={};n.debuglog=function(e){if(b(T)&&(T=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(T)){var r=t.pid;L[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else L[e]=function(){};return L[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=x,n.isSymbol=w,n.isUndefined=b,n.isRegExp=A,n.isObject=E,n.isDate=S,n.isError=_,n.isFunction=O,n.isPrimitive=C,n.isBuffer=e(68);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))},n.inherits=e(46),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e(49),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{46:46,49:49,68:68}],70:[function(e,t,n){!function(e){"object"==typeof n?t.exports=e(this):"function"==typeof define&&define.amd?define(e):this.R=e(this)}(function(){"use strict";function e(){return new TypeError("Function called with no arguments")}function t(n,r,i){switch(arguments.length){case 0:throw e();case 1:return t(n,0,n.length);case 2:return t(n,r,n.length);default:for(var o=Math.max(0,i-r),s=new Array(o),a=-1;++a<o;)s[a]=n[r+a];return s}}function n(e,t){e=e||[],t=t||[];var n,r=e.length,i=t.length,o=new Array(r+i);for(n=-1;++n<r;)o[n]=e[n];for(n=-1;++n<i;)o[r+n]=t[n];return o}function r(t){return function(n,r){switch(arguments.length){case 0:throw e();case 1:return function(e){return t(n,e)};default:return t(n,r)}}}function i(t){return function(n,i,o){switch(arguments.length){case 0:throw e();case 1:return r(function(e,r){return t(n,e,r)});case 2:return function(e){return t(n,i,e)};default:return t(n,i,o)}}}function o(e,t){return null!=t&&!W(t)&&"function"==typeof t[e]}function s(e,t){return function(n,r,i){var o=arguments.length,s=arguments[o-1],a=s&&!W(s)&&"function"==typeof s[e];switch(arguments.length){case 0:return t();case 1:return a?s[e]():t(n);case 2:return a?s[e](n):t(n,r);case 3:return a?s[e](n,r):t(n,r,i)}}}function a(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n]);return t}function u(e,t,n){switch(e&&z.call(e)){case"[object Object]":return c(e,{},t,n);case"[object Array]":return c(e,[],t,n);case"[object Function]":return e;case"[object Date]":return new Date(e);default:return e}}function c(e,t,n,r){for(var i=n.length,o=-1;++o<i;)if(e===n[o])return r[o];n.push(e),r.push(t);for(var s in e)t[s]=u(e[s],n,r);return t}function f(e,t){return n([e],t)}function p(e,t){return n(t,[e])}function l(e,t){return function(){return e.call(this,t.apply(this,arguments))}}function d(e,t){return function(){var n=this,r=t.apply(this,arguments);return h(r)?r.then(function(t){return e.call(n,t)}):e.call(this,r)}}function h(e){return null!=e&&e===Object(e)&&e.then&&"function"==typeof e.then}function g(t){return function(){switch(arguments.length){case 0:throw e();case 1:return arguments[0];default:for(var n=arguments.length-1,r=arguments[n],i=r.length;n--;)r=t(arguments[n],r);return te(i,r)}}}function m(e){return function(n){var r=t(arguments,1);return te(Math.max(0,n.length-r.length),function(){return n.apply(this,e(r,arguments))})}}function v(e,t){for(var n=-1,r=t.length,i=new Array(r);++n<r;)i[n]=e(t[n]);return i}function y(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n])&&i.push(t[n]);return i}function x(e,t){for(var n=-1,r=t.length,i=[];++n<r;)e(t[n],n,t)&&i.push(t[n]);return i}function w(e,t){for(var n=-1;++n<t.length;)if(!e(t[n]))return!1;return!0}function b(e,t){for(var n=-1;++n<t.length;)if(e(t[n]))return!0;return!1}function A(e,t,n){var r=0,i=e.length;for("number"==typeof n&&(r=0>n?Math.max(0,i+n):n);i>r;){if(e[r]===t)return r;++r}return-1}function E(e,t,n){var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1}function S(e,t){return A(t,e)>=0}function _(e,t,n){for(var r=-1,i=n.length;++r<i;)if(e(t,n[r]))return!0;return!1}function O(e){return function t(n){for(var r,i,o,s=[],a=-1,u=n.length;++a<u;)if(V(n[a]))for(r=e?t(n[a]):n[a],i=-1,o=r.length;++i<o;)s.push(r[i]);else s.push(n[a]);return s}}function C(e){return function(t){return v(function(e){return[e,t[e]]},e(t))}}function k(e,t){for(var n,r={},i=qe(t),o=i.length,s=-1;++s<o;)n=i[s],e(t[n],n,t)&&(r[n]=t[n]);return r}function U(e,t){var n={};return a(function(e){n[e]=t[e]},e),n}function j(e,t){for(var n=He(t),r=-1,i=n.length;++r<i;)e[n[r]]=t[n[r]];return e}function R(e,t,n){if(e===n)return!0;if(null==n)return!1;t.fn=t.fn||[],t.obj=t.obj||[];for(var r,i,o=-1,s=t.fn.length,a=-1,u=t.obj.length;++o<s;){if(r=t.fn[o],i=e[r],!(r in n))return!1;if(!i(n[r],n))return!1}for(;++a<u;)if(r=t.obj[a],e[r]!==n[r])return!1;return!0}function P(e){return function(n){var r=function(){var t=arguments;return e(function(e){return e.apply(null,t)},n)};return arguments.length>1?r.apply(null,t(arguments,1)):te(Ge(je("length",n)),r)}}function T(e,t){return e+t}function L(e,t){return e*t}function N(e,t){return t>e}function I(e,t){return e>t}function M(t,n){return function(r){if(0===arguments.length)throw e();for(var i,o=-1,s=n;++o<r.length;)i=+r[o],t(i,s)&&(s=i);return s}}function B(e){return function(t,n){if(n&&n.length>0){for(var r,i=0,o=n[i],s=t(o);++i<n.length;)r=t(n[i]),e(r,s)&&(s=r,o=n[i]);return o}}}function D(e,t){var n,r=-1,i=e.length;if(null!=t){for(n=t;null!=n&&++r<i;)n=n[e[r]];return n}}function H(e,t){return v(function(t){return{key:e(t),val:t}},t)}function q(e){return function(t){return y(function(e){return"function"==typeof t[e]},e(t))}}var F,J={version:"0.8.0"},z=Object.prototype.toString,W=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===z.call(e)},V=J.isArrayLike=function(e){return W(e)?!0:e?"object"!=typeof e?!1:e instanceof String?!1:1===e.nodeType?!!e.length:0===e.length?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1:!1};try{Object.defineProperty(J,"__",{writable:!1,value:F})}catch(K){J.__=F}var G=J.op=function(t){var n=t.length;if(2!==n)throw new Error("Expected binary function.");return function r(n,i){switch(arguments.length){case 0:throw e();case 1:return n===F?ee($(r)):Z(ge(t,n));default:return n===F?Z(me(t,i)):t(n,i)}}},Y=J.curryN=function(t,r){return function i(o){return te(Math.max(t-(o&&o.length||0),0),function(){if(0===arguments.length)throw e();var s=n(o,arguments);return s.length>=t?r.apply(this,s):i(s)})}([])},Q=J.curry=function(e){return Y(e.length,e)},$=J.flip=function(r){return function(i,o){switch(arguments.length){case 0:throw e();case 1:return function(e){return r.apply(this,[e,i].concat(t(arguments,1)))};default:return r.apply(this,n([o,i],t(arguments,2)))}}},X=J.nAry=function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,s){return t.call(this,e,n,r,i,o,s)};case 7:return function(e,n,r,i,o,s,a){return t.call(this,e,n,r,i,o,s,a)};case 8:return function(e,n,r,i,o,s,a,u){return t.call(this,e,n,r,i,o,s,a,u)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.call(this,e,n,r,i,o,s,a,u,c)};case 10:return function(e,n,r,i,o,s,a,u,c,f){return t.call(this,e,n,r,i,o,s,a,u,c,f)};default:return t}},Z=J.unary=function(e){return X(1,e)},ee=J.binary=function(e){return X(2,e)},te=J.arity=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,s){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,s,a){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,s,a,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,s,a,u,c,f){return t.apply(this,arguments)};default:return t}},ne=J.invokerN=function(e,n){var r=t(arguments,2),i=e-r.length;return Y(i+1,function(){var e=arguments[i],o=r.concat(t(arguments,0,i));return e[n].apply(e,o)})},re=J.useWith=function(e){var n=t(arguments,1),r=n.length;return Q(te(r,function(){for(var i=[],o=-1;++o<r;)i.push(n[o](arguments[o]));return e.apply(this,i.concat(t(arguments,r)))}))};J.forEach=r(a),J.forEach.idx=r(function(e,t){for(var n=-1,r=t.length;++n<r;)e(t[n],n,t);return t});var ie=J.clone=function(e){return t(e)};J.cloneDeep=function(e){return u(e,[],[])};var oe=J.isEmpty=function(e){return null==e||0===e.length},se=J.prepend=r(f);J.cons=se,J.prependTo=$(f);var ae=J.nth=r(function(e,t){return 0>e?t[t.length+e]:t[e]}),ue=J.head=ae(0);J.car=ue,J.last=ae(-1);var ce=J.tail=s("tail",function(e){return t(e,1)});J.cdr=ce;var fe=J.append=r(p);J.push=fe,J.appendTo=$(p),J.concat=r(function(e,t){if(W(t))return n(e,t);if(o("concat",e))return e.concat(t);throw new TypeError("can't concat "+typeof e)});var pe=J.identity=function(e){return e};J.I=pe,J.argN=function(e){return function(){return arguments[e]}};var le=J.times=r(function(e,t){for(var n=new Array(t),r=-1;++r<t;)n[r]=e(r);return n});J.repeatN=r(function(e,t){return le(De(e),t)}),J.apply=r(function(e,t){return e.apply(this,t)}),J.unapply=function(n){if(0===arguments.length)throw e();return function(){return n(t(arguments))}};var de=J.compose=g(l),he=J.pCompose=g(d);J.pipe=function(){return de.apply(this,Le(arguments))},J.pPipe=function(){return he.apply(this,Le(arguments))};var ge=J.lPartial=m(n),me=J.rPartial=m($(n));J.memoize=function(e){if(!e.length)return ve(e);var n={};return function(){if(arguments.length){var r=xe(function(e,t){return e[t]||(e[t]={})},n,t(arguments,0,arguments.length-1)),i=arguments[arguments.length-1];return r[i]||(r[i]=e.apply(this,arguments))}}};var ve=J.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}};J.wrap=function(e,t){return te(e.length,function(){return t.apply(this,n([e],arguments))})};var ye=J.constructN=r(function(e,t){var n=function(){var e,n,r=function(){};return r.prototype=t.prototype,e=new r,n=t.apply(e,arguments),Object(n)===n?n:e};return e>1?Q(X(e,n)):n});J.construct=function(e){return ye(e.length,e)},J.converge=function(e){var n=t(arguments,1);return function(){var t=arguments;return e.apply(this,v(function(e){return e.apply(this,t)},n))}};var xe=J.reduce=i(function(e,t,n){for(var r=-1,i=n.length;++r<i;)t=e(t,n[r]);return t});J.foldl=xe,J.reduce.idx=i(function(e,t,n){for(var r=-1,i=n.length;++r<i;)t=e(t,n[r],r,n);return t}),J.foldl.idx=xe.idx;var we=J.reduceRight=i(s("reduceRight",function(e,t,n){for(var r=n.length;r--;)t=e(t,n[r]);return t}));J.foldr=we,J.reduceRight.idx=i(function(e,t,n){for(var r=n.length;r--;)t=e(t,n[r],r,n);return t}),J.foldr.idx=we.idx,J.unfoldr=r(function(e,t){for(var n=e(t),r=[];n&&n.length;)r.push(n[0]),n=e(n[1]);return r});var be=J.map=r(s("map",v));J.map.idx=r(function(e,t){for(var n=-1,r=t.length,i=new Array(r);++n<r;)i[n]=e(t[n],n,t);return i}),J.mapObj=r(function(e,t){return xe(function(n,r){return n[r]=e(t[r]),n},{},He(t))}),J.mapObj.idx=r(function(e,t){return xe(function(n,r){return n[r]=e(t[r],r,t),n},{},He(t))}),J.scanl=i(function(e,t,n){var r=0,i=n.length+1,o=new Array(i);for(o[r]=t;++r<i;)t=e(t,n[r-1]),o[r]=t;return o});var Ae=J.liftN=r(function(n,r){var i=Y(n,r);if(0===arguments.length)throw e();return Y(n,function(){return xe(Ee,v(i,arguments[0]),t(arguments,1))})});J.lift=function(t){if(0===arguments.length)throw e();return Ae(t.length,t)};var Ee=J.ap=r(function(e,t){return o("ap",e)?e.ap(t):xe(function(e,r){return n(e,v(r,t))},[],e)});J.of=function(e,t){return o("of",t)?t.of(e):[e]},J.empty=function(e){return o("empty",e)?e.empty():[]},J.chain=r(s("chain",function(e,t){return Re(v(e,t))}));var Se=J.commuteMap=i(function(e,t,n){function r(t,n){return Ee(be(fe,e(n)),t)}return xe(r,t([]),n)});J.commute=Se(be(pe));var _e=J.size=function(e){return e.length};J.length=_e,J.filter=r(s("filter",y)),J.filter.idx=r(x);var Oe=function(e,t){return y(We(e),t)};J.reject=r(Oe),J.reject.idx=r(function(e,t){return x(We(e),t)}),J.takeWhile=r(s("takeWhile",function(e,n){for(var r=-1,i=n.length;++r<i&&e(n[r]););return t(n,0,r)})),J.take=r(s("take",function(e,n){return t(n,0,Math.min(e,n.length))})),J.skipUntil=r(function(e,n){for(var r=-1,i=n.length;++r<i&&!e(n[r]););return t(n,r)}),J.skip=r(s("skip",function(e,n){return e<n.length?t(n,e):[]})),J.find=r(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return t[n]}),J.findIndex=r(function(e,t){for(var n=-1,r=t.length;++n<r;)if(e(t[n]))return n;return-1}),J.findLast=r(function(e,t){for(var n=t.length;n--;)if(e(t[n]))return t[n]}),J.findLastIndex=r(function(e,t){for(var n=t.length;n--;)if(e(t[n]))return n;return-1}),J.every=r(w),J.some=r(b),J.indexOf=r(function(e,t){return A(t,e)}),J.indexOf.from=i(function(e,t,n){return A(n,e,t)}),J.lastIndexOf=r(function(e,t){return E(t,e)}),J.lastIndexOf.from=i(function(e,t,n){return E(n,e,t)}),J.contains=r(S);var Ce=J.containsWith=i(_),ke=J.uniq=function(e){for(var t,n=-1,r=e.length,i=[];++n<r;)t=e[n],S(t,i)||i.push(t);return i};J.isSet=function(e){for(var t=e.length,n=-1;++n<t;)if(A(e,e[n],n+1)>=0)return!1;return!0};var Ue=J.uniqWith=r(function(e,t){for(var n,r=-1,i=t.length,o=[];++r<i;)n=t[r],_(e,n,o)||o.push(n);return o}),je=J.pluck=r(function(e,t){return v(Me(e),t)});J.flatten=O(!0);var Re=J.unnest=O(!1);J.zipWith=i(function(e,t,n){for(var r=[],i=-1,o=Math.min(t.length,n.length);++i<o;)r[i]=e(t[i],n[i]);return r}),J.zip=r(function(e,t){for(var n=[],r=-1,i=Math.min(e.length,t.length);++r<i;)n[r]=[e[r],t[r]];return n}),J.zipObj=r(function(e,t){for(var n=-1,r=e.length,i={};++n<r;)i[e[n]]=t[n];return i});var Pe=J.fromPairs=function(e){for(var t=-1,n=e.length,r={};++t<n;)W(e[t])&&e[t].length&&(r[e[t][0]]=e[t][1]);return r},Te=J.createMapEntry=r(function(e,t){var n={};return n[e]=t,n});J.lens=r(function(e,t){var n=function(t){return e(t)};return n.set=t,n.map=function(n,r){return t(n(e(r)),r)},n}),J.xprod=r(function(e,t){if(oe(e)||oe(t))return[];for(var n,r=-1,i=e.length,o=t.length,s=[];++r<i;)for(n=-1;++n<o;)s.push([e[r],t[n]]);return s});var Le=J.reverse=function(e){for(var t=-1,n=e.length,r=n,i=new Array(n);++t<n;)i[--r]=e[t];return i};J.range=r(function(e,t){if(e>=t)return[];for(var n=0,r=new Array(Math.floor(t)-Math.ceil(e));t>e;)r[n++]=e++;return r}),J.join=ne(1,"join"),J.slice=ne(2,"slice"),J.slice.from=r(function(e,t){return t.slice(e,t.length)}),J.remove=i(function(e,r,i){return n(t(i,0,Math.min(e,i.length)),t(i,Math.min(i.length,e+r)))}),J.insert=i(function(e,r,i){return e=e<i.length&&e>=0?e:i.length,n(p(r,t(i,0,e)),t(i,e))}),J.insert.all=i(function(e,r,i){return e=e<i.length&&e>=0?e:i.length,n(n(t(i,0,e),r),t(i,e))});var Ne=J.comparator=function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}};J.sort=r(function(e,t){return ie(t).sort(e)});var Ie=J.groupBy=r(function(e,t){return xe(function(t,n){var r=e(n);return t[r]=p(n,t[r]||(t[r]=[])),t},{},t)});J.partition=r(function(e,t){return xe(function(t,n){return t[e(n)?0:1].push(n),t},[[],[]],t)}),J.tap=r(function(e,t){return e(t),t}),J.eq=r(function(e,t){return e===t});var Me=J.prop=function(t,n){switch(arguments.length){case 0:throw e();case 1:return function(e){return e[t]}}return n[t]};J.get=Me,J.propOf=$(Me),J.props=r(function(e,t){for(var n=e.length,r=new Array(n),i=-1;++i<n;)r[i]=t[e[i]];return r});var Be=Object.prototype.hasOwnProperty;J.propOr=i(function(e,t,n){return Be.call(n,e)?n[e]:t}),J.has=r(function(e,t){return Be.call(t,e)}),J.hasIn=r(function(e,t){return e in t}),J.func=function(n,r){switch(arguments.length){case 0:throw e();case 1:return function(e){return e[n].apply(e,t(arguments,1))};default:return r[n].apply(r,t(arguments,2))}};var De=J.always=function(e){return function(){return e}};J.bind=r(function(e,t){return function(){return e.apply(t,arguments)}});var He=J.keys=function(){var e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return function(n){if(Object(n)!==n)return[];if(Object.keys)return Object.keys(n);var r,i,o=[];for(r in n)Be.call(n,r)&&o.push(r);if(e)for(i=t.length;i--;)r=t[i],Be.call(n,r)&&!S(r,o)&&o.push(r);return o}}(),qe=J.keysIn=function(e){var t,n=[];for(t in e)n.push(t);return n};J.toPairs=C(He),J.toPairsIn=C(qe),J.values=function(e){for(var t=He(e),n=t.length,r=new Array(n),i=-1;++i<n;)r[i]=e[t[i]];return r},J.valuesIn=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},J.pick=r(function(e,t){return k(function(t,n){return S(n,e)},t)}),J.omit=r(function(e,t){return k(function(t,n){return!S(n,e)},t)}),J.pickBy=r(k);var Fe=J.pickAll=r(U);J.mixin=r(function(e,t){return j(j({},e),t)}),J.cloneObj=function(e){return j({},e)},J.eqProps=i(function(e,t,n){return t[e]===n[e]}),J.where=function(t,n){var r=Ie(function(e){return"function"==typeof t[e]?"fn":"obj"},He(t));switch(arguments.length){case 0:throw e();case 1:return function(e){return R(t,r,e)}}return R(t,r,n)};var Je=J.assoc=i(function(e,t,n){return j(Pe(v(function(e){return[e,n[e]]},qe(n))),Te(e,t))});J.assocPath=function(){var n=function(e,r,i){if(1===e.length)return Je(e[0],r,i);var o=i[e[0]];return Je(e[0],n(t(e,1),r,ze(Object,o)?o:{}),i)};return function(t,i,o){var s=arguments.length;if(0===s)throw e();var a=Qe(".",t),u=r(function(e,t){return n(a,e,t)});switch(s){case 1:return u;case 2:return u(i);default:return u(i,o)}}}(),J.installTo=function(e){return j(e,J)};var ze=J.is=r(function(e,t){return null!=t&&t.constructor===e||t instanceof e});J.type=function(e){return null===e?"Null":void 0===e?"Undefined":z.call(e).slice(8,-1)},J.alwaysZero=De(0),J.alwaysFalse=De(!1),J.alwaysTrue=De(!0),J.and=r(function(e,t){return function(){return e.apply(this,arguments)&&t.apply(this,arguments)}}),J.or=r(function(e,t){return function(){return e.apply(this,arguments)||t.apply(this,arguments)}});var We=J.not=function(e){return function(){return!e.apply(this,arguments)}};J.allPredicates=P(w),J.anyPredicates=P(b);var Ve=J.ifElse=i(function(e,t,n){return function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}});J["if"]=Ve,J.cond=function(){var e=arguments;return function(){for(var t=-1;++t<e.length;)if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments)}},J.add=r(T),J.multiply=r(L),J.subtract=G(function(e,t){return e-t}),J.divide=G(function(e,t){return e/t}),J.modulo=G(function(e,t){return e%t});var Ke=Number.isInteger||function(e){return e<<0===e};J.mathMod=G(function(e,t){return Ke(e)?!Ke(t)||1>t?0/0:(e%t+t)%t:0/0}),J.sum=xe(T,0),J.product=xe(L,1),J.lt=G(N),J.lte=G(function(e,t){return t>=e}),J.gt=G(I),J.gte=G(function(e,t){return e>=t});var Ge=J.max=M(I,-(1/0));J.maxBy=r(B(I)),J.min=M(N,1/0),J.minBy=r(B(N));var Ye=J.substring=ne(2,"substring");J.substringFrom=$(Ye)(void 0),J.substringTo=Ye(0),J.charAt=ne(1,"charAt"),J.charCodeAt=ne(1,"charCodeAt"),J.match=ne(1,"match"),J.replace=i(function(e,t,n){return n.replace(e,t)}),J.strIndexOf=r(function(e,t){return t.indexOf(e)}),J.strLastIndexOf=r(function(e,t){return t.lastIndexOf(e)}),J.toUpperCase=ne(0,"toUpperCase"),J.toLowerCase=ne(0,"toLowerCase"),J.trim=function(){var e="	\n\f\r   ᠎             　\u2028\u2029\ufeff",t="​",n="function"==typeof String.prototype.trim;return n&&!e.trim()&&t.trim()?function(e){return e.trim()}:function(t){var n=new RegExp("^["+e+"]["+e+"]*"),r=new RegExp("["+e+"]["+e+"]*$");return t.replace(n,"").replace(r,"")}}();var Qe=J.split=ne(1,"split"),$e=J.pathOn=i(function(e,t,n){return D(t.split(e),n)});J.path=$e("."),J.pathEq=i(function(e,t,n){return D(e.split("."),n)===t}),J.project=re(v,Fe,pe),J.propEq=i(function(e,t,n){return n[e]===t}),J.union=de(ke,n),J.unionWith=i(function(e,t,r){return Ue(e,n(t,r))}),J.difference=r(function(e,t){for(var n=[],r=-1,i=e.length;++r<i;)S(e[r],t)||S(e[r],n)||n.push(e[r]);return n}),J.differenceWith=i(function(e,t,n){for(var r=[],i=-1,o=t.length,s=Ce(e);++i<o;)s(t[i],n)||s(t[i],r)||r.push(t[i]);return r}),J.intersection=r(function(e,t){return ke(y($(S)(e),t))}),J.intersectionWith=i(function(e,t,n){for(var r=[],i=-1;++i<t.length;)_(e,t[i],n)&&(r[r.length]=t[i]);return Ue(e,r)});var Xe=Ne(function(e,t){return e.key<t.key});return J.sortBy=r(function(e,t){return je("val",H(e,t).sort(Xe))}),J.countBy=r(function(e,t){return xe(function(e,t){return e[t.key]=(e[t.key]||0)+1,e},{},H(e,t))}),J.functions=q(He),J.functionsIn=q(qe),J})},{}],71:[function(e,t,n){!function(e,t){"use strict";var n;e(function(e){function r(e,t){var n,r,i,o;if(n=e,i={},t){for(r in t)o=new RegExp("\\{"+r+"\\}"),o.test(n)?n=n.replace(o,encodeURIComponent(t[r]),"g"):i[r]=t[r];for(r in i)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==i[r]&&void 0!==i[r]&&(n+="=",n+=encodeURIComponent(i[r]))}return n}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=s({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var s,a,u,c,f;return s=e(81),u=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,c=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,f=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,s({},this._params,t))},fullyQualify:function(){if(!t)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=a.protocol+e:i(e,"/")?e=a.origin+e:this.isAbsolute()||(e=a.origin+a.pathname.substring(0,a.pathname.lastIndexOf("/")+1)),-1===e.indexOf("/",8)&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return c.test(this.build())},isFullyQualified:function(){return f.test(this.build())},isCrossOrigin:function(){if(!a)return!0;var e=this.parts();return e.protocol!==a.protocol||e.hostname!==a.hostname||e.port!==a.port},parts:function(){var e,t;return e=this.fullyQualify().build().match(u),t={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},t.origin=t.protocol+"//"+t.host,t.port=t.port||("https:"===t.protocol?"443":"http:"===t.protocol?"80":""),t},build:function(e){return r(this._template,s({},this._params,e))},toString:function(){return this.build()}},a=t?new o(t.href).parts():n,o})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window.location:void 0)},{81:81}],72:[function(e,t,n){!function(e){"use strict";e(function(){return function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,n){return t(e,n)},e.chain=function(){return console&&(console.warn||console.log).call(console,"rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],73:[function(e,t,n){!function(e,t){"use strict";e(function(e){function n(e){var t={};return e?(e.trim().split(u).forEach(function(e){var n,r,i;n=e.indexOf(":"),r=o(e.substring(0,n).trim()),i=e.substring(n+1).trim(),t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}),t):t}var r,i,o,s,a,u;return r=e(101),i=e(71),o=e(82),s=e(83),a=e(72),u=/[\r|\n]+/,a(function(e){return new s.ResponsePromise(function(r,o){var s,a,u,c,f,p,l,d;if(e="string"==typeof e?{path:e}:e||{},l={request:e},e.canceled)return l.error="precanceled",void o(l);if(d=e.engine||t.XMLHttpRequest,!d)return void o({request:e,error:"xhr-not-available"});f=e.entity,e.method=e.method||(f?"POST":"GET"),a=e.method,u=new i(e.path||"",e.params).build();try{s=l.raw=new d,s.open(a,u,!0),e.mixin&&Object.keys(e.mixin).forEach(function(t){e.mixin.hasOwnProperty(t)&&t in s&&(s[t]=e.mixin[t])}),c=e.headers;for(p in c)s.setRequestHeader(p,c[p]);e.canceled=!1,e.cancel=function(){e.canceled=!0,s.abort(),o(l)},s.onreadystatechange=function(){e.canceled||s.readyState===(d.DONE||4)&&(l.status={code:s.status,text:s.statusText},l.headers=n(s.getAllResponseHeaders()),l.entity=s.responseText,l.status.code>0&&r(l))};try{s.onerror=function(){l.error="loaderror",o(l)}}catch(h){}s.send(f)}catch(h){l.error="loaderror",o(l)}})})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window:void 0)},{101:101,71:71,72:72,82:82,83:83}],74:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){return e}function n(e){return e}function r(e){return e}function i(e){return p.promise(function(t,n){e.forEach(function(e){p(e,t,n)})})}function o(e){return this instanceof o?void u(this,e):new o(e)}function s(e){var s,u,l,d;return e=e||{},s=e.init||t,u=e.request||n,l=e.success||e.response||r,d=e.error||function(){return p((e.response||r).apply(this,arguments),p.reject,p.reject)},function(t,n){function r(e){var s,a;return s={},a={arguments:Array.prototype.slice.call(arguments),client:r},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||r,c(p(u.call(s,e,n,a),function(e){var r,u,c;return c=t,e instanceof o&&(u=e.abort,c=e.client||c,r=e.response,e=e.request),r=r||p(e,function(e){return p(c(e),function(e){return l.call(s,e,n,a)},function(e){return d.call(s,e,n,a)})}),u?i([r,u]):r},function(t){return p.reject({request:e,error:t})}))}return"object"==typeof t&&(n=t),"function"!=typeof t&&(t=e.client||a),n=s(Object.create(n||{})),f(r,t)}}var a,u,c,f,p;return a=e(80),u=e(81),c=e(83),f=e(72),p=e(101),s.ComplexRequest=o,s})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{101:101,72:72,80:80,81:81,83:83}],75:[function(e,t,n){!function(e){"use strict";e(function(e){var t,n;return t=e(74),n=e(101),t({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?n.reject(e):e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{101:101,74:74}],76:[function(e,t,n){!function(e){"use strict";e(function(e){var t,n,r,i;return t=e(74),n=e(77),i=e(101),r=n.lookup("text/plain"),t({init:function(e){return e.registry=e.registry||n,e},request:function(e,t){var n,r;return r=e.headers||(e.headers={}),n=r["Content-Type"]=r["Content-Type"]||t.mime||"text/plain",r.Accept=r.Accept||t.accept||n+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?t.registry.lookup(n).then(function(n){var r=t.client||e.originator;return i.attempt(n.write,e.entity,{client:r,request:e}).otherwise(function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})},function(){throw"mime-unknown"}):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var n=e.headers["Content-Type"];return t.registry.lookup(n).otherwise(function(){return r}).then(function(n){var r=t.client||e.request&&e.request.originator;return i.attempt(n.read,e.entity,{client:r,response:e}).otherwise(function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{101:101,74:74,77:77}],77:[function(e,t,n){!function(e){"use strict";e(function(t){function n(e){return e.split(/[;\+]/)[0].trim()}function r(e){var t={};"function"==typeof e&&(e=function(e){return{lookup:function(n){return t[n]=e(n),t[n]}}}(e)),this.lookup=function(r){return r=n(r),r in t?t[r]:e.lookup(r)},this.register=function(e,r){return e=n(e),t[e]=s.resolve(r),t[e]}}function i(e){var n;return s.promise(function(r,i){n=setTimeout(i,1e3),t(["./type/"+e],r,i)}).otherwise(function(t){return s.reject(t||new Error("Timeout while loading mime module: "+e));

}).ensure(function(){clearTimeout(n)})}function o(e){return s.promise(function(n,r){try{n(t("./type/"+e))}catch(i){r(i)}})}var s,a;return s=t(101),r.prototype={child:function(){return new r(this)}},a=new r("function"==typeof e&&e.amd?i:o),a.register("text/plain",t(79)),a.register("application/json",t(78)),a})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{101:101,78:78,79:79}],78:[function(e,t,n){!function(e){"use strict";e(function(){return{read:function(e){return JSON.parse(e)},write:function(e){return JSON.stringify(e)}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],79:[function(e,t,n){!function(e){"use strict";e(function(){return{read:function(e){return e},write:function(e){return e.toString()}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],80:[function(e,t,n){(function(n){!function(e,t){"use strict";var n;e(function(e){function r(){return o.apply(n,arguments)}var i,o,s;return i=e(72),o=s=function(){if(t&&t.versions&&t.versions.node){var n="./client/node";return e(n)}return e(73)}(),r.setDefaultClient=function(e){o=e},r.getDefaultClient=function(){return o},r.resetDefaultClient=function(){o=s},i(r)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"==typeof n?void 0:n)}).call(this,e(49))},{49:49,72:72,73:73}],81:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){var n,r,i,o;for(e||(e={}),n=1,r=arguments.length;r>n;n+=1){i=arguments[n];for(o in i)o in e&&(e[o]===i[o]||o in t&&t[o]===i[o])||(e[o]=i[o])}return e}var t={};return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],82:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],83:[function(e,t,n){!function(e){"use strict";e(function(e){function t(){return i.apply(this,arguments)}function n(e,t){return e.then(function(e){return e&&e[t]},function(e){return o.reject(e&&e[t])})}function r(e){return new t(e.then.bind(e))}var i=e(85),o=e(101),s=e(82);return t.prototype=Object.create(i.prototype),t.prototype.entity=function(){return n(this,"entity")},t.prototype.status=function(){return n(n(this,"status"),"code")},t.prototype.headers=function(){return n(this,"headers")},t.prototype.header=function(e){return e=s(e),n(this.headers(),e)},r.ResponsePromise=t,r})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{101:101,82:82,85:85}],84:[function(e,t,n){!function(e,r){"use strict";var i="0.7.3",o="",s="?",a="function",u="undefined",c="object",f="major",p="model",l="name",d="type",h="vendor",g="version",m="architecture",v="console",y="mobile",x="tablet",w="smarttv",b="wearable",A="embedded",E={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):void 0},lowerize:function(e){return e.toLowerCase()}},S={rgx:function(){for(var e,t,n,i,o,s,f,p=0,l=arguments;p<l.length&&!s;){var d=l[p],h=l[p+1];if(typeof e===u){e={};for(i in h)o=h[i],typeof o===c?e[o[0]]=r:e[o]=r}for(t=n=0;t<d.length&&!s;)if(s=d[t++].exec(this.getUA()))for(i=0;i<h.length;i++)f=s[++n],o=h[i],typeof o===c&&o.length>0?2==o.length?e[o[0]]=typeof o[1]==a?o[1].call(this,f):o[1]:3==o.length?e[o[0]]=typeof o[1]!==a||o[1].exec&&o[1].test?f?f.replace(o[1],o[2]):r:f?o[1].call(this,f,o[2]):r:4==o.length&&(e[o[0]]=f?o[3].call(this,f.replace(o[1],o[2])):r):e[o]=f?f:r;p+=2}return e},str:function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(E.has(t[n][i],e))return n===s?r:n}else if(E.has(t[n],e))return n===s?r:n;return e}},_={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:"NT 6.4",RT:"ARM"}}}},O={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,g,f],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],g,f],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[l,g,f],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[l,"IE"],g,f],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],g,f],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],g,f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[l,g,f],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],g,f],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],g,f],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[g,f,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[g,f,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[f,S.str,_.browser.oldsafari.major],[g,S.str,_.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,g,f],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],g,f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,g,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[m,E.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[p,h,[d,x]],[/applecoremedia\/[\w\.]+ \((ipad)/],[p,[h,"Apple"],[d,x]],[/(apple\s{0,1}tv)/i],[[p,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,p,[d,x]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[p,[h,"Amazon"],[d,x]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[p,S.str,_.device.amazon.model],[h,"Amazon"],[d,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[p,h,[d,y]],[/\((ip[honed|\s\w*]+);/i],[p,[h,"Apple"],[d,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,p,[d,y]],[/\(bb10;\s(\w+)/i],[p,[h,"BlackBerry"],[d,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[p,[h,"Asus"],[d,x]],[/(sony)\s(tablet\s[ps])/i],[h,p,[d,x]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,p,[d,v]],[/android.+;\s(shield)\sbuild/i],[p,[h,"Nvidia"],[d,v]],[/(playstation\s[3portablevi]+)/i],[p,[h,"Sony"],[d,v]],[/(sprint\s(\w+))/i],[[h,S.str,_.device.sprint.vendor],[p,S.str,_.device.sprint.model],[d,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[h,p,[d,x]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[p,/_/g," "],[d,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[p,[h,"Microsoft"],[d,v]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[h,"Microsoft"],[d,y]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[h,"Motorola"],p,[d,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[h,"Motorola"],[d,x]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],p,[d,x]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],p,[d,y]],[/(samsung);smarttv/i],[h,p,[d,w]],[/\(dtv[\);].+(aquos)/i],[p,[h,"Sharp"],[d,w]],[/sie-(\w+)*/i],[p,[h,"Siemens"],[d,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],p,[d,y]],[/android\s3\.[\s\w-;]{10}(a\d{3})/i],[p,[h,"Acer"],[d,x]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],p,[d,x]],[/(lg) netcast\.tv/i],[h,p,[d,w]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[p,[h,"LG"],[d,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[p,[h,"Lenovo"],[d,x]],[/linux;.+((jolla));/i],[h,p,[d,y]],[/((pebble))app\/[\d\.]+\s/i],[h,p,[d,b]],[/android.+;\s(glass)\s\d/i],[p,[h,"Google"],[d,b]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[d,E.lowerize],h,p]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,g],[/rv\:([\w\.]+).*(gecko)/i],[g,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,g],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[g,S.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[g,S.str,_.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],g],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[l,g],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],g],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],g],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,g],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],g],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],g],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,g],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[g,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[g,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[l,g]]},C=function(t,n){if(!(this instanceof C))return new C(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:o),i=n?E.extend(O,n):O;this.getBrowser=function(){return S.rgx.apply(this,i.browser)},this.getCPU=function(){return S.rgx.apply(this,i.cpu)},this.getDevice=function(){return S.rgx.apply(this,i.device)},this.getEngine=function(){return S.rgx.apply(this,i.engine)},this.getOS=function(){return S.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r)};if(C.VERSION=i,C.BROWSER={NAME:l,MAJOR:f,VERSION:g},C.CPU={ARCHITECTURE:m},C.DEVICE={MODEL:p,VENDOR:h,TYPE:d,CONSOLE:v,MOBILE:y,SMARTTV:w,TABLET:x,WEARABLE:b,EMBEDDED:A},C.ENGINE={NAME:l,VERSION:g},C.OS={NAME:l,VERSION:g},typeof n!==u)typeof t!==u&&t.exports&&(n=t.exports=C),n.UAParser=C;else{e.UAParser=C,typeof define===a&&define.amd&&define(function(){return C});var k=e.jQuery||e.Zepto;if(typeof k!==u){var U=new C;k.ua=U.getResult(),k.ua.get=function(){return U.getUA()},k.ua.set=function(e){U.setUA(e);var t=U.getResult();for(var n in t)k.ua[n]=t[n]}}}}(this)},{}],85:[function(e,t,n){!function(e){"use strict";e(function(e){var t=e(99),n=e(87),r=e(89);return t({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{87:87,89:89,99:99}],86:[function(e,t,n){!function(e){"use strict";e(function(){function e(e){this.head=this.tail=this.length=0,this.buffer=new Array(1<<e)}return e.prototype.push=function(e){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=e,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},e.prototype.shift=function(){var e=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,e},e.prototype._ensureCapacity=function(e){var t,n=this.head,r=this.buffer,i=new Array(e),o=0;if(0===n)for(t=this.length;t>o;++o)i[o]=r[o];else{for(e=r.length,t=this.tail;e>n;++o,++n)i[o]=r[n];for(n=0;t>n;++o,++n)i[o]=r[n]}this.buffer=i,this.head=0,this.tail=this.length},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],87:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){this._async=e,this._queue=new r(15),this._afterQueue=new r(5),this._running=!1;var t=this;this.drain=function(){t._drain()}}function n(e){for(;e.length>0;)e.shift().run()}var r=e(86);return t.prototype.enqueue=function(e){this._add(this._queue,e)},t.prototype.afterQueue=function(e){this._add(this._afterQueue,e)},t.prototype._drain=function(){n(this._queue),this._running=!1,n(this._afterQueue)},t.prototype._add=function(e,t){e.push(t),this._running||(this._running=!0,this._async(this.drain))},t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{86:86}],88:[function(e,t,n){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],89:[function(e,t,n){(function(n){!function(e){"use strict";e(function(e){var t,r;return t="undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick?function(e){n.nextTick(e)}:(r="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(e,t){function n(){var e=r;r=void 0,e()}var r,i=e.createElement("div"),o=new t(n);return o.observe(i,{attributes:!0}),function(e){r=e,i.setAttribute("class","x")}}(document,r):function(e){try{return e("vertx").runOnLoop||e("vertx").runOnContext}catch(t){}var n=setTimeout;return function(e){n(e,0)}}(e)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e(49))},{49:49}],90:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(t){return new e(function(e,n){function i(e){o.push(e),0===--s&&n(o)}var o=[],s=r(t,e,i);0===s&&n(new RangeError("any() input must not be empty"))})}function n(t,n){return new e(function(e,i,o){function s(t){p>0&&(--p,c.push(t),0===p&&e(c))}function a(e){u>0&&(--u,f.push(e),0===u&&i(f))}var u,c=[],f=[],p=r(t,s,a,o);n=Math.max(n,0),u=p-n+1,p=Math.min(n,p),n>p?i(new RangeError("some() input must contain at least "+n+" element(s), but had "+p)):0===p&&e(c)})}function r(e,t,n,r){return p.call(e,function(e,i){return d(i).then(t,n,r),e+1},0)}function i(e,t){function n(e,n){return t(n,e)}return"object"!=typeof e?d([]):h(f(function(e,t){return d(e).fold(n,t)},e))}function o(e,t){return h(e).then(function(e){return h(f(t,e)).then(function(t){for(var n,r=t.length,i=new Array(r),o=0,s=0;r>o;++o)n=t[o],(void 0!==n||o in t)&&t[o]&&(i[s++]=e[o]);return i.length=s,i})})}function s(e){return h(f(function(e){function t(){return e.inspect()}return e=d(e),e.then(t,t)},e))}function a(e,t){var n=c(t);return arguments.length>2?p.call(e,n,arguments[2]):p.call(e,n)}function u(e,t){var n=c(t);return arguments.length>2?l.call(e,n,arguments[2]):l.call(e,n)}function c(e){return function(t,n,r){return d(t).then(function(t){return d(n).then(function(n){return e(t,n,r)})})}}function f(e,t){for(var n,r=t.length,i=new Array(r),o=0;r>o;++o)n=t[o],(void 0!==n||o in t)&&(i[o]=e(t[o],o));return i}var p=Array.prototype.reduce,l=Array.prototype.reduceRight,d=e.resolve,h=e.all;return e.any=t,e.some=n,e.settle=s,e.map=i,e.filter=o,e.reduce=a,e.reduceRight=u,e.prototype.spread=function(e){return this.then(h).then(function(t){return e.apply(void 0,t)})},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],91:[function(e,t,n){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return function(){return e.call(this)}}return function(n){function i(e,n){return function(r){return t(r,n)?e.call(this,r):o(r)}}var o=n.reject,s=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?s.call(this,t):"function"!=typeof t?this.ensure(e):s.call(this,i(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){if("function"!=typeof e)return this;var t=r(e);return this.then(t,t)["yield"](this)},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],92:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],93:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(e){var t=e.state();return 0===t?{state:"pending"}:t>0?{state:"fulfilled",value:e.value}:{state:"rejected",reason:e.value}}return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],94:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function s(o,s){return r(i(o)).then(function(){return n(e,t,i,s)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(s)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],95:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],96:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e,t,r,i){return n.set(function(){e(r,i,t)},t)}var n=e(100),r=e(88);return function(e){function i(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function s(e,t,n){var i="undefined"==typeof e?new r("timed out after "+n+"ms"):e;t.reject(i)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},e.prototype.timeout=function(e,r){var i=this._beget(),o=i._handler,a=t(s,e,r,i._handler);return this._handler.visit(o,function(e){n.clear(a),this.resolve(e)},function(e){n.clear(a),this.reject(e)},o.notify),i},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{100:100,88:88}],97:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e){var t="object"==typeof e&&e.stack?e.stack:n(e);return e instanceof Error?t:t+" (WARNING: non-Error used)"}function n(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=r(e,t)),t}function r(e,t){try{return JSON.stringify(e)}catch(e){return t}}function i(e){throw e}function o(){}var s=e(100);return function(e){function r(e){e.handled||(d.push(e),f("Potentially unhandled rejection ["+e.id+"] "+t(e.value)))}function a(e){var t=d.indexOf(e);t>=0&&(d.splice(t,1),p("Handled previous rejection ["+e.id+"] "+n(e.value)))}function u(e,t){l.push(e,t),h||(h=!0,h=s.set(c,0))}function c(){for(h=!1;l.length>0;)l.shift()(l.shift())}var f=o,p=o;"undefined"!=typeof console&&(f="undefined"!=typeof console.error?function(e){console.error(e)}:function(e){console.log(e)},p="undefined"!=typeof console.info?function(e){console.info(e)}:function(e){console.log(e)}),e.onPotentiallyUnhandledRejection=function(e){u(r,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){u(a,e)},e.onFatalRejection=function(e){u(i,e.value)};var l=[],d=[],h=!1;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{100:100}],98:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],99:[function(e,t,n){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===p?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new d;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return _(e)?e:new t(p,new h(c(e)))}function i(e){return new t(p,new h(new v(e)))}function o(){return H}function s(){return new t(p,new d)}function a(e){function n(e,t,n){this[e]=t,0===--u&&n.become(new m(this))}var r,i,o,s,a=new d,u=e.length>>>0,c=new Array(u);for(r=0;r<e.length;++r)if(o=e[r],void 0!==o||r in e)if(O(o))if(i=_(o)?o._handler.join():f(o),s=i.state(),0===s)i.fold(n,r,c,a);else{if(!(s>0)){a.become(i);break}c[r]=i.value,--u}else c[r]=o,--u;else--u;return 0===u&&a.become(new m(c)),new t(p,a)}function u(e){if(Object(e)===e&&0===e.length)return o();var n,r,i=new d;for(n=0;n<e.length;++n)r=e[n],void 0!==r&&n in e&&c(r).visit(i,i.resolve,i.reject);return new t(p,i)}function c(e){return _(e)?e._handler.join():O(e)?f(e):new m(e)}function f(e){try{var t=e.then;return"function"==typeof t?new g(t,e):new m(e)}catch(n){return new v(n)}}function p(){}function l(){}function d(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function h(e){this.handler=e}function g(e,t){d.call(this),N.enqueue(new E(e,t,this))}function m(e){t.createContext(this),this.value=e}function v(e){t.createContext(this),this.id=++B,this.value=e,this.handled=!1,this.reported=!1,this._report()}function y(e,t){this.rejection=e,this.context=t}function x(e){this.rejection=e}function w(){return new v(new TypeError("Promise cycle"))}function b(e,t){this.continuation=e,this.handler=t}function A(e,t){this.handler=t,this.value=e}function E(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function S(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function _(e){return e instanceof t}function O(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function C(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),j(e,n.value,r,i),void t.exitContext())}function k(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),R(e,n,r.value,i,o),void t.exitContext())}function U(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),P(e,n,i,o),void t.exitContext())}function j(e,t,n,r){try{r.become(c(e.call(n,t)))}catch(i){r.become(new v(i))}}function R(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new v(o))}}function P(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function T(e,t){t.prototype=I(e.prototype),t.prototype.constructor=t}function L(){}var N=e.scheduler,I=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=i,t.never=o,t._defer=s,t._handler=c,t.prototype.then=function(e,n){var r=this._handler;if("function"!=typeof e&&r.join().state()>0)return new t(p,r);var i=this._beget(),o=i._handler;return r.chain(o,r.receiver,e,n,arguments.length>2?arguments[2]:void 0),i},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){var e=this._handler,t=new d(e.receiver,e.join().context);return new this.constructor(p,t)},t.all=a,t.race=u,p.prototype.when=p.prototype.become=p.prototype.notify=p.prototype.fail=p.prototype._unreport=p.prototype._report=L,p.prototype._state=0,p.prototype.state=function(){return this._state},p.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},p.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},p.prototype.visit=function(e,t,n,r){this.chain(M,e,t,n,r)},p.prototype.fold=function(e,t,n,r){this.visit(r,function(r){e.call(n,t,r,this)},r.reject,r.notify)},T(p,l),l.prototype.become=function(e){e.fail()};var M=new l;T(p,d),d.prototype._state=0,d.prototype.resolve=function(e){this.become(c(e))},d.prototype.reject=function(e){this.resolved||this.become(new v(e))},d.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=w();return e},d.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},d.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&N.enqueue(this),void 0!==this.context&&e._report(this.context))},d.prototype.when=function(e){this.resolved?N.enqueue(new b(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},d.prototype.notify=function(e){this.resolved||N.enqueue(new A(e,this))},d.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},d.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},d.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},T(p,h),h.prototype.when=function(e){N.enqueue(new b(e,this))},h.prototype._report=function(e){this.join()._report(e)},h.prototype._unreport=function(){this.join()._unreport()},T(d,g),T(p,m),m.prototype._state=1,m.prototype.fold=function(e,t,n,r){k(e,t,this,n,r)},m.prototype.when=function(e){C(e.fulfilled,this,e.receiver,e.resolver)};var B=0;T(p,v),v.prototype._state=-1,v.prototype.fold=function(e,t,n,r){r.become(this)},v.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),C(e.rejected,this,e.receiver,e.resolver)},v.prototype._report=function(e){N.afterQueue(new y(this,e))},v.prototype._unreport=function(){this.handled=!0,N.afterQueue(new x(this))},v.prototype.fail=function(e){t.onFatalRejection(this,void 0===e?this.context:e)},y.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,t.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&t.onPotentiallyUnhandledRejectionHandled(this.rejection)},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=L;var D=new p,H=new t(p,D);return b.prototype.run=function(){this.handler.join().when(this.continuation)},A.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],U(t.progress,this.value,this.handler,t.receiver,t.resolver)},E.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;S(this._then,this.thenable,e,t,n)},t}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],100:[function(e,t,n){!function(e){"use strict";e(function(e){var t,n,r,i;t=e;try{n=t("vertx"),r=function(e,t){return n.setTimer(t,e)},i=n.cancelTimer}catch(o){r=function(e,t){return setTimeout(e,t)},i=function(e){return clearTimeout(e)}}return{set:r,clear:i}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],101:[function(e,t,n){!function(e){"use strict";e(function(e){function t(e,t,n){var r=O.resolve(e);return arguments.length<2?r:arguments.length>3?r.then(t,n,arguments[3]):r.then(t,n)}function n(e){return new O(e)}function r(e){return function(){return o(e,this,C.call(arguments))}}function i(e){return o(e,this,C.call(arguments,1))}function o(e,t,n){return O.all(n).then(function(n){return e.apply(t,n)})}function s(){return new a}function a(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=O._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function u(e){return e&&"function"==typeof e.then}function c(){return O.all(arguments)}function f(e){return t(e,O.all)}function p(e){return t(e,O.settle)}function l(e,n){return t(e,function(e){return O.map(e,n)})}function d(e,n){return t(e,function(e){return O.filter(e,n)})}function h(e,n){var r=C.call(arguments,1);return t(e,function(e){return r.unshift(e),O.reduce.apply(O,r)})}function g(e,n){var r=C.call(arguments,1);return t(e,function(e){return r.unshift(e),O.reduceRight.apply(O,r)})}var m=e(96),v=e(90),y=e(91),x=e(92),w=e(93),b=e(94),A=e(95),E=e(98),S=e(97),_=e(88),O=[v,y,x,b,A,w,E,m,S].reduce(function(e,t){return t(e)},e(85)),C=Array.prototype.slice;return t.promise=n,t.resolve=O.resolve,t.reject=O.reject,t.lift=r,t["try"]=i,t.attempt=i,t.iterate=O.iterate,t.unfold=O.unfold,t.join=c,t.all=f,t.settle=p,t.any=r(O.any),t.some=r(O.some),t.race=r(O.race),t.map=l,t.filter=d,t.reduce=h,t.reduceRight=g,t.isPromiseLike=u,t.Promise=O,t.defer=s,t.TimeoutError=_,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{85:85,88:88,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98}]},{},[8]);